{"version":3,"file":"chartogram.js","sources":["../modules/index.js"],"sourcesContent":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nexport default function chartogram(rootNode, data) {\n  var title = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'Title';\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  // clearElement(rootNode)\n  rootNode.innerHTML = \"\\n\\t\\t<header class=\\\"chartogram__header\\\">\\n\\t\\t\\t<h1 class=\\\"chartogram__title\\\">\".concat(title, \"</h1>\\n\\t\\t</header>\\n\\t\\t<div class=\\\"chartogram__plan-with-axes\\\">\\n\\t\\t\\t<div class=\\\"chartogram__plan\\\">\\n\\t\\t\\t\\t<div class=\\\"chartogram__top-border\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"chartogram__canvas-wrapper\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"chartogram__canvas\\\" preserveAspectRatio=\\\"none\\\"></svg>\\n\\t\\t\\t\\t\\t<div class=\\\"chartogram__x\\\"></div>\\n\\t\\t\\t\\t\\t<div class=\\\"chartogram__y-wrapper\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"chartogram__y\\\"></div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"chartogram__timeline\\\">\\n\\t\\t\\t<div class=\\\"chartogram__timeline-canvas-padding\\\">\\n\\t\\t\\t\\t<svg class=\\\"chartogram__timeline-canvas\\\" preserveAspectRatio=\\\"none\\\"></svg>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"chartogram__timeline-overlay-left\\\"></div>\\n\\t\\t\\t<div class=\\\"chartogram__timeline-overlay-right\\\"></div>\\n\\t\\t\\t<div class=\\\"chartogram__timeline-window\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__drag\\\"></button>\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__left-handle\\\"></button>\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__right-handle\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"chartogram__chart-togglers\\\"></div>\\n\\t\");\n  rootNode.classList.add('chartogram');\n  var GAUGE_TICK_MARKS_COUNT = options.gaugeMarkTicksCount || 6;\n  var TIMELINE_WINDOW_SIZE = options.timelineWindowSize || 40;\n  var MONTHS = options.months || ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  var WEEKDAYS = options.weekdays || ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  var tooltipContainer = document.querySelector('.chartogram__plan');\n  var canvas = document.querySelector('.chartogram__canvas');\n  var canvasWrapper = document.querySelector('.chartogram__canvas-wrapper');\n  var xAxis = document.querySelector('.chartogram__x');\n  var yAxis = document.querySelector('.chartogram__y');\n  var timeline = document.querySelector('.chartogram__timeline');\n  var timelineOverlayLeft = document.querySelector('.chartogram__timeline-overlay-left');\n  var timelineWindowLeftHandle = document.querySelector('.chartogram__timeline-window__left-handle');\n  var timelineWindow = document.querySelector('.chartogram__timeline-window');\n  var timelineWindowDrag = document.querySelector('.chartogram__timeline-window__drag');\n  var timelineWindowRightHandle = document.querySelector('.chartogram__timeline-window__right-handle');\n  var timelineOverlayRight = document.querySelector('.chartogram__timeline-overlay-right');\n  var timelineCanvas = document.querySelector('.chartogram__timeline-canvas');\n  var timelineWindowFrom;\n  var timelineWindowTo;\n  var showGraphs;\n  var showGraphsNext;\n  var timelineWindowGraphs;\n  var timelineWindowMinX;\n  var timelineWindowMaxX;\n  var timelineWindowMinY;\n  var timelineWindowMaxY;\n  var shiftX;\n  var timelineWindowXScaled;\n  var tooltip;\n  var tooltipDate;\n  var tooltipValues;\n  var tooltipForX;\n  var tooltipPoints;\n  var tooltipLine; // A stub for possible animations.\n\n  var yScale = 1;\n  setUpTimelineWindowHandle('left');\n  setUpTimelineWindowHandle('right');\n  setUpTimelineWindow();\n  displayGraphs();\n  setUpCanvas();\n\n  function clearElement(element) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  function commaJoin(a, b) {\n    return a.map(function (ai, i) {\n      return \"\".concat(ai, \",\").concat(b[i]);\n    });\n  }\n\n  function getLowerSiblingDivisibleBy(n, divider) {\n    while (true) {\n      if (n < divider) {\n        return divider;\n      }\n\n      if (n % divider === 0) {\n        return n;\n      }\n\n      n--;\n    }\n  }\n\n  function divideInterval(min, max) {\n    var points = new Array(GAUGE_TICK_MARKS_COUNT);\n    var i = 0;\n\n    while (i < GAUGE_TICK_MARKS_COUNT) {\n      points[i] = min + i * (max - min) / (GAUGE_TICK_MARKS_COUNT - 1);\n      i++;\n    }\n\n    return points;\n  }\n\n  function drawGauge(element, min, max, transform) {\n    var i = 0;\n\n    while (i < GAUGE_TICK_MARKS_COUNT) {\n      var tickMark = document.createElement('div');\n      var value = min + i * (max - min) / (GAUGE_TICK_MARKS_COUNT - 1);\n\n      if (transform) {\n        value = transform(value);\n      }\n\n      tickMark.appendChild(document.createTextNode(value));\n      element.appendChild(tickMark);\n      i++;\n    }\n  }\n\n  function displayGraphs() {\n    showGraphs = {};\n\n    for (var _iterator = data.lines, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var line = _ref;\n      showGraphs[line.id] = true;\n    }\n\n    showGraphsNext = undefined;\n\n    if (data.x.points.length > TIMELINE_WINDOW_SIZE) {\n      var xMin = data.x.points[0];\n      var xMax = data.x.points[data.x.points.length - 1];\n      var xFrom = data.x.points[data.x.points.length - TIMELINE_WINDOW_SIZE];\n      timelineWindowFrom = (xFrom - xMin) / (xMax - xMin);\n    } else {\n      timelineWindowFrom = 0;\n    }\n\n    timelineWindowTo = 1;\n    updateTimelineWindow();\n    drawGraphs(true);\n    tooltipLine = undefined; // Add graph togglers.\n\n    var graphTogglers = document.querySelector('.chartogram__chart-togglers');\n    clearElement(graphTogglers);\n\n    for (var _iterator2 = data.lines, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var _line = _ref2;\n      graphTogglers.appendChild(createGraphToggler(_line));\n    }\n  }\n\n  function drawGraphs(redrawTimeline) {\n    var x = data.x.points; // Chrome can't handle timestamps in milliseconds for point coordinates (draws nothing).\n    // Reducing timestamps to lower numbers to work around that bug.\n\n    shiftX = x[0];\n    var xScaledAll = x.map(function (_) {\n      return (_ - shiftX) / 1000;\n    }); // Clear canvas.\n\n    clearElement(canvas); // Calculate bounds.\n\n    var minXOverall = xScaledAll[0];\n    var maxXOverall = xScaledAll[xScaledAll.length - 1];\n    var deltaX = maxXOverall - minXOverall;\n    var minX = minXOverall + timelineWindowFrom * deltaX;\n    var maxX = maxXOverall - (1 - timelineWindowTo) * deltaX;\n    var minXIndex = xScaledAll.findIndex(function (x) {\n      return x > minX;\n    }) - 1;\n\n    if (minXIndex < 0) {\n      minXIndex = 0;\n    }\n\n    var maxXIndex = xScaledAll.findIndex(function (x) {\n      return x > maxX;\n    });\n\n    if (maxXIndex < 0) {\n      maxXIndex = xScaledAll.length - 1;\n    }\n\n    var xScaled = xScaledAll.slice(minXIndex, maxXIndex + 1); // let minY = Infinity\n    // let minYOverall = Infinity\n    // Min Y is always 0 by design.\n\n    var minY = 0;\n    var maxY = 0;\n    var maxYOverall = 0;\n    timelineWindowGraphs = [];\n    var graphsAll = [];\n\n    for (var _iterator3 = data.lines, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var line = _ref3;\n\n      if (!showGraphs[line.id]) {\n        continue;\n      }\n\n      graphsAll.push(line); // minYOverall = Math.min(minYOverall, ...line.points)\n\n      maxYOverall = Math.max.apply(Math, [maxYOverall].concat(_toConsumableArray(line.points)));\n      var points = line.points.slice(minXIndex, maxXIndex + 1);\n      timelineWindowGraphs.push(_objectSpread({}, line, {\n        points: points\n      })); // minY = Math.min(minY, ...points)\n\n      maxY = Math.max.apply(Math, [maxY].concat(_toConsumableArray(points)));\n    } // Set canvas `viewBox`.\n    // (add some side padding so that it doesn't trim the graphs on their sides)\n\n\n    canvas.setAttribute('viewBox', \"\".concat(minX, \" \").concat(minY, \" \").concat(maxX - minX, \" \").concat(maxY - minY)); // Calculate grid lines' coordinates.\n\n    var minY_ = 0;\n    var maxY_ = getLowerSiblingDivisibleBy(maxY, 10);\n    var yAxisScale = (maxY - minY) / (maxY_ - minY);\n    var yAxisTickMarks = divideInterval(minY_, maxY_); // Draw grid lines.\n\n    for (var _iterator4 = yAxisTickMarks, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var y = _ref4;\n      canvas.appendChild(createGridLine(y, minX, maxX, minY, maxY));\n    } // Trim X axis.\n\n\n    var _x = xScaled.slice();\n\n    var _minX = _x[0];\n    var _maxX = _x[_x.length - 1];\n    var trimLeftRatio = (minX - _minX) / (_x[1] - _minX);\n    var trimRightRatio = (_maxX - maxX) / (_maxX - _x[_x.length - 2]);\n    _x[0] = minX;\n    _x[_x.length - 1] = maxX; // Draw graphs.\n\n    for (var _iterator5 = timelineWindowGraphs, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n      var _ref5;\n\n      if (_isArray5) {\n        if (_i5 >= _iterator5.length) break;\n        _ref5 = _iterator5[_i5++];\n      } else {\n        _i5 = _iterator5.next();\n        if (_i5.done) break;\n        _ref5 = _i5.value;\n      }\n\n      var _ref6 = _ref5,\n          id = _ref6.id,\n          color = _ref6.color,\n          _points = _ref6.points;\n      var graph = document.createElement('polyline');\n      graph.setAttribute('stroke', color);\n\n      var _y = _points.slice();\n\n      var _minY = _y[0];\n      var _maxY = _y[_y.length - 1];\n      _y[0] = _minY + (_y[1] - _minY) * trimLeftRatio;\n      _y[_y.length - 1] = _maxY - (_maxY - _y[_y.length - 2]) * trimRightRatio;\n      graph.setAttribute('points', commaJoin(_x, _y.map(function (y) {\n        return maxY - yScale * y;\n      })).join(' '));\n      graph.classList.add('chartogram__graph');\n      canvas.appendChild(graph);\n    } // A workaround to fix WebKit bug when it's not re-rendering the <svg/>.\n    // https://stackoverflow.com/questions/30905493/how-to-force-webkit-to-update-svg-use-elements-after-changes-to-original\n\n\n    canvas.innerHTML += ''; // Draw gauges.\n\n    drawGauges(x[0], x[x.length - 1], minY_, maxY_, yAxisScale); // Draw timeline graph.\n\n    timelineWindowMinY = minY;\n    timelineWindowMaxY = maxY;\n    timelineWindowMinX = minX;\n    timelineWindowMaxX = maxX;\n    timelineWindowXScaled = xScaled;\n\n    if (redrawTimeline) {\n      drawTimeline(graphsAll, xScaledAll, minXOverall, maxXOverall, minY, maxYOverall);\n    }\n  } // function animateScale(scale) {\n  // \tconsole.log(scale)\n  // \tanimateScaleTo = scale\n  // \tanimateScaleStartedAt = Date.now()\n  // \tpreviousYScale = yScale\n  // \trequestAnimationFrame(animateScaleTick)\n  // }\n  // function animateScaleTick() {\n  // \tconst elapsed = Date.now() - animateScaleStartedAt\n  // \tyScale = previousYScale + (animateScaleTo - previousYScale) * elapsed / 300\n  // \tdrawGraphs(true)\n  // \tif (elapsed < 300) {\n  // \t\trequestAnimationFrame(animateScaleTick)\n  // \t}\n  // }\n\n\n  function createGridLine(y, minX, maxX, minY, maxY) {\n    var line = document.createElement('line');\n    line.classList.add('chartogram__grid-line');\n    line.setAttribute('x1', minX);\n    line.setAttribute('x2', maxX);\n    line.setAttribute('y1', maxY - minY - y);\n    line.setAttribute('y2', maxY - minY - y);\n    return line;\n  }\n\n  function drawGauges(minX, maxX, minY, maxY, yAxisScale) {\n    clearElement(xAxis);\n    clearElement(yAxis);\n    drawGauge(xAxis, minX, maxX, function (timestamp) {\n      var date = new Date(timestamp);\n      return \"\".concat(MONTHS[date.getMonth()], \" \").concat(date.getDate());\n    });\n    drawGauge(yAxis, minY, maxY);\n    yAxis.style.height = \"\".concat(100 / yAxisScale, \"%\");\n  }\n\n  function drawTimeline(graphs, x, minX, maxX, minY, maxY) {\n    clearElement(timelineCanvas); // Set canvas `viewBox`.\n\n    timelineCanvas.setAttribute('viewBox', \"\".concat(minX, \" \").concat(minY, \" \").concat(maxX - minX, \" \").concat(maxY - minY));\n\n    for (var _iterator6 = graphs, _isArray6 = Array.isArray(_iterator6), _i6 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n      var _ref7;\n\n      if (_isArray6) {\n        if (_i6 >= _iterator6.length) break;\n        _ref7 = _iterator6[_i6++];\n      } else {\n        _i6 = _iterator6.next();\n        if (_i6.done) break;\n        _ref7 = _i6.value;\n      }\n\n      var _ref8 = _ref7,\n          id = _ref8.id,\n          color = _ref8.color,\n          points = _ref8.points;\n      var graph = document.createElement('polyline');\n      graph.setAttribute('stroke', color);\n      graph.setAttribute('points', commaJoin(x, points.map(function (y) {\n        return maxY - minY - y;\n      })).join(' '));\n      graph.classList.add('chartogram__graph');\n      timelineCanvas.appendChild(graph);\n    } // A workaround to fix WebKit bug when it's not re-rendering the <svg/>.\n    // https://stackoverflow.com/questions/30905493/how-to-force-webkit-to-update-svg-use-elements-after-changes-to-original\n\n\n    timelineCanvas.innerHTML += '';\n  }\n\n  function createGraphToggler(_ref9) {\n    var id = _ref9.id,\n        name = _ref9.name,\n        color = _ref9.color;\n    var toggler = document.createElement('button');\n    toggler.setAttribute('type', 'button');\n    toggler.classList.add('chartogram__chart-toggler');\n    toggler.classList.add('chartogram__chart-toggler--on');\n    toggler.classList.add('chartogram__reset-button'); // Add check.\n\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var check = document.createElementNS(xmlns, 'svg');\n    check.setAttributeNS(null, 'viewBox', '0 0 19 19');\n    check.classList.add('chartogram__chart-toggler-check'); // Add background circle.\n\n    var backgroundCircle = document.createElementNS(xmlns, 'circle');\n    backgroundCircle.setAttribute('cx', '9.5');\n    backgroundCircle.setAttribute('cy', '9.5');\n    backgroundCircle.setAttribute('r', '9.5');\n    backgroundCircle.setAttribute('fill', color);\n    check.appendChild(backgroundCircle); // Add check circle.\n\n    var checkCircle = document.createElementNS(xmlns, 'circle');\n    checkCircle.setAttribute('cx', '9.5');\n    checkCircle.setAttribute('cy', '9.5');\n    checkCircle.setAttribute('r', '8');\n    checkCircle.classList.add('chartogram__chart-toggler-check-circle');\n    check.appendChild(checkCircle); // Add check mark.\n\n    var checkMark = document.createElementNS(xmlns, 'path');\n    checkMark.setAttribute('d', 'M13.64 4.94l-6.2 6.34-1.69-1.9c-.73-.63-1.89.1-1.36 1.06l2 3.38c.3.43 1.04.85 1.78 0 .32-.42 6.31-7.93 6.31-7.93.74-.84-.2-1.58-.84-.95z');\n    checkMark.setAttribute('fill', 'white');\n    checkMark.classList.add('chartogram__chart-toggler-check-mark');\n    check.appendChild(checkMark); // Add checkmark.\n\n    toggler.appendChild(check); // Add graph name.\n\n    toggler.appendChild(document.createTextNode(name)); // On click.\n\n    toggler.addEventListener('click', function () {\n      var show = !showGraphs[id]; // Won't allow hiding all graphs.\n\n      if (!show) {\n        var graphsShown = Object.keys(showGraphs).filter(function (id) {\n          return showGraphs[id] !== false;\n        }).length;\n\n        if (graphsShown === 1) {\n          return;\n        }\n      } // showGraphsNext = { ...showGraphs }\n      // showGraphsNext[id] = show\n      // const maxYNext = getMaxY(timelineWindowGraphs.filter(_ => showGraphsNext[_.id]))\n      // const scale = timelineWindowMaxY / maxYNext\n      // if (scale !== 1) {\n      // \tanimateScale(scale)\n      // }\n\n\n      showGraphs[id] = show;\n      drawGraphs(true);\n      toggler.classList.toggle('chartogram__chart-toggler--on');\n    });\n    return toggler;\n  }\n\n  function getMaxY(graphs) {\n    var maxY = 0;\n\n    for (var _iterator7 = graphs, _isArray7 = Array.isArray(_iterator7), _i7 = 0, _iterator7 = _isArray7 ? _iterator7 : _iterator7[Symbol.iterator]();;) {\n      var _ref10;\n\n      if (_isArray7) {\n        if (_i7 >= _iterator7.length) break;\n        _ref10 = _iterator7[_i7++];\n      } else {\n        _i7 = _iterator7.next();\n        if (_i7.done) break;\n        _ref10 = _i7.value;\n      }\n\n      var graph = _ref10;\n      maxY = Math.max.apply(Math, [maxY].concat(_toConsumableArray(graph.points)));\n    }\n\n    return maxY;\n  }\n\n  function setUpTimelineWindowHandle(side) {\n    var handle = side === 'left' ? timelineWindowLeftHandle : timelineWindowRightHandle;\n    var handleWidth = parseFloat(getComputedStyle(timelineWindow).borderLeftWidth);\n    var timelineCoordinates;\n    var minX;\n    var maxX;\n    var deltaX;\n    var startedX;\n\n    function onDrag(x) {\n      x = x - deltaX;\n      x = Math.max(Math.min(x, maxX), minX);\n      x = (x - timelineCoordinates.x) / timelineCoordinates.width;\n\n      if (side === 'left') {\n        timelineWindowFrom = x;\n      } else {\n        timelineWindowTo = x;\n      }\n\n      updateTimelineWindow();\n    }\n\n    function onDragStart(x) {\n      timelineCoordinates = timeline.getBoundingClientRect();\n      var timelineWindowCoordinates = timelineWindow.getBoundingClientRect();\n\n      if (side === 'left') {\n        minX = timelineCoordinates.x;\n        maxX = timelineWindowCoordinates.x + timelineWindowCoordinates.width - 2 * handleWidth;\n        deltaX = x - timelineWindowCoordinates.x;\n      } else {\n        minX = timelineWindowCoordinates.x + 2 * handleWidth;\n        maxX = timelineCoordinates.x + timelineCoordinates.width;\n        deltaX = x - (timelineWindowCoordinates.x + timelineWindowCoordinates.width);\n      }\n    }\n\n    return setUpDrag(handle, onDragStart, onDrag);\n  }\n\n  function setUpTimelineWindow() {\n    var timelineCoordinates;\n    var timelineWindowCoordinates;\n    var minX;\n    var maxX;\n    var innerX;\n\n    function onDrag(x) {\n      x = x - innerX;\n      x = Math.max(Math.min(x, maxX), minX);\n      x = (x - timelineCoordinates.x) / timelineCoordinates.width;\n      timelineWindowFrom = x;\n      timelineWindowTo = x + timelineWindowCoordinates.width / timelineCoordinates.width;\n      updateTimelineWindow();\n    }\n\n    function onDragStart(x) {\n      timelineCoordinates = timeline.getBoundingClientRect();\n      timelineWindowCoordinates = timelineWindow.getBoundingClientRect();\n      innerX = x - timelineWindowCoordinates.x;\n      minX = timelineCoordinates.x;\n      maxX = timelineCoordinates.x + (timelineCoordinates.width - timelineWindowCoordinates.width);\n    }\n\n    return setUpDrag(timelineWindowDrag, onDragStart, onDrag);\n  }\n\n  function setUpDrag(element, onDragStart, onDrag) {\n    function onTouchMove(event) {\n      onDrag(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n    }\n\n    function onPointerMove(event) {\n      onDrag(event.clientX, event.clientY);\n    }\n\n    function onDragStop() {\n      window.removeEventListener('pointermove', onPointerMove);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('pointerup', onDragStop);\n      window.removeEventListener('pointercancel', onDragStop);\n      window.removeEventListener('touchend', onDragStop);\n      window.removeEventListener('touchcancel', onDragStop);\n    }\n\n    function onTouchStart(event) {\n      // Ignore multitouch.\n      if (event.touches.length > 1) {\n        // Reset.\n        return onDragStop();\n      }\n\n      onDragStart(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n      window.addEventListener('touchmove', onTouchMove);\n      window.addEventListener('touchend', onDragStop);\n      window.addEventListener('touchcancel', onDragStop);\n    } // Safari doesn't support pointer events.\n    // https://caniuse.com/#feat=pointer\n\n\n    element.addEventListener('touchstart', onTouchStart);\n\n    function onPointerDown(event) {\n      onDragStart(event.clientX, event.clientY);\n      window.addEventListener('pointermove', onPointerMove);\n      window.addEventListener('pointerup', onDragStop);\n      window.addEventListener('pointercancel', onDragStop);\n    }\n\n    element.addEventListener('pointerdown', onPointerDown);\n    return function () {\n      onDragStop();\n      element.removeEventListener(onPointerDown);\n      element.removeEventListener(onTouchStart);\n    };\n  }\n\n  function setTimelineWindowLeft(x) {\n    timelineOverlayLeft.style.right = \"\".concat(100 * (1 - x), \"%\");\n    timelineWindow.style.left = \"\".concat(100 * x, \"%\");\n  }\n\n  function setTimelineWindowRight(x) {\n    timelineOverlayRight.style.left = \"\".concat(100 * x, \"%\");\n    timelineWindow.style.right = \"\".concat(100 * (1 - x), \"%\");\n  }\n\n  function updateTimelineWindow() {\n    setTimelineWindowLeft(timelineWindowFrom);\n    setTimelineWindowRight(timelineWindowTo);\n    drawGraphs(false);\n  }\n\n  function setUpCanvas() {\n    var canvasDimensions;\n    var isIndexInBounds;\n\n    function onTrack(screenX) {\n      var xScreenRatio = (screenX - canvasDimensions.x) / canvasDimensions.width;\n      var x = timelineWindowMinX + xScreenRatio * (timelineWindowMaxX - timelineWindowMinX);\n      var xHigherIndex = timelineWindowXScaled.findIndex(function (_) {\n        return _ >= x;\n      });\n      var xLowerIndex = xHigherIndex - 1;\n\n      if (!isIndexInBounds(xHigherIndex)) {\n        xHigherIndex = -1;\n      }\n\n      if (!isIndexInBounds(xLowerIndex)) {\n        xLowerIndex = -1;\n      }\n\n      if (xHigherIndex < 0) {\n        if (xLowerIndex < 0) {\n          return removeTooltip();\n        } else {\n          x = timelineWindowXScaled[xLowerIndex];\n        }\n      } else {\n        if (xLowerIndex < 0) {\n          x = timelineWindowXScaled[xHigherIndex];\n        } else {\n          var xLower = timelineWindowXScaled[xLowerIndex];\n          var xHigher = timelineWindowXScaled[xHigherIndex];\n          var deltaLower = x - xLower;\n          var deltaHigher = xHigher - x;\n          x = deltaLower > deltaHigher ? xHigher : xLower;\n        }\n      }\n\n      if (x !== tooltipForX) {\n        tooltipForX = x;\n\n        if (!tooltip) {\n          addTooltip();\n        }\n\n        var date = new Date(x * 1000 + shiftX);\n        tooltipDate.textContent = \"\".concat(WEEKDAYS[date.getDay()], \", \").concat(MONTHS[date.getMonth()], \" \").concat(date.getDate());\n        var xIndex = timelineWindowXScaled.indexOf(x);\n        var i = 0;\n\n        while (2 * i < tooltipValues.childNodes.length) {\n          tooltipValues.childNodes[2 * i].textContent = timelineWindowGraphs[i].points[xIndex];\n          tooltipValues.childNodes[2 * i + 1].textContent = data.lines[i].name;\n          i++;\n        }\n\n        var xRatio = (x - timelineWindowMinX) / (timelineWindowMaxX - timelineWindowMinX);\n        tooltip.style.left = \"\".concat(xRatio * 100, \"%\");\n        updateTooltipPoints(xIndex, xRatio);\n        updateTooltipLine(x);\n      }\n    }\n\n    function onTrackStart() {\n      canvasDimensions = canvas.getBoundingClientRect();\n\n      isIndexInBounds = function isIndexInBounds(index) {\n        if (index < 0) {\n          return false;\n        }\n\n        return timelineWindowXScaled[index] >= timelineWindowMinX && timelineWindowXScaled[index] <= timelineWindowMaxX;\n      };\n    }\n\n    function onTouchStart(event) {\n      // Ignore multitouch.\n      if (event.touches.length > 1) {\n        // Reset.\n        return onTrackStop();\n      }\n\n      onTrackStart();\n      canvas.addEventListener('touchend', onTrackStop);\n      canvas.addEventListener('touchmove', onTouchMove);\n      canvas.addEventListener('touchend', onTrackStop);\n      canvas.addEventListener('touchcancel', onTrackStop);\n      onTouchMove(event);\n    } // Safari doesn't support pointer events.\n    // https://caniuse.com/#feat=pointer\n\n\n    canvas.addEventListener('touchstart', onTouchStart);\n\n    function onTouchMove(event) {\n      var x = event.changedTouches[0].clientX;\n      var y = event.changedTouches[0].clientY; // Emulate 'pointerleave' behavior.\n\n      if (x < canvasDimensions.x || x > canvasDimensions.x + canvasDimensions.width || y < canvasDimensions.y || y > canvasDimensions.y + canvasDimensions.height) {\n        onTrackStop();\n      } else {\n        onTrack(x, y);\n      }\n    }\n\n    function onPointerMove(event) {\n      onTrack(event.clientX, event.clientY);\n    }\n\n    function onTrackStop() {\n      canvas.removeEventListener('pointermove', onPointerMove);\n      canvas.removeEventListener('pointerleave', onTrackStop);\n      canvas.removeEventListener('pointercancel', onTrackStop);\n      canvas.removeEventListener('touchmove', onTouchMove);\n      canvas.removeEventListener('touchend', onTrackStop);\n      canvas.removeEventListener('touchcancel', onTrackStop);\n      removeTooltip();\n    }\n\n    function onPointerEnter() {\n      onTrackStart();\n      canvas.addEventListener('pointermove', onPointerMove);\n      canvas.addEventListener('pointerleave', onTrackStop);\n      canvas.addEventListener('pointercancel', onTrackStop);\n    }\n\n    canvas.addEventListener('pointerenter', onPointerEnter);\n    return function () {\n      onTrackStop();\n      canvas.removeEventListener(onPointerEnter);\n      canvas.removeEventListener(onTouchStart);\n    };\n  }\n\n  function addTooltip() {\n    // Create tooltip.\n    tooltip = document.createElement('div');\n    tooltip.classList.add('chartogram__tooltip');\n    tooltipContainer.appendChild(tooltip); // Add tooltip title.\n\n    tooltipDate = document.createElement('h1');\n    tooltipDate.classList.add('chartogram__tooltip-header');\n    tooltip.appendChild(tooltipDate); // Add graph values.\n\n    tooltipValues = document.createElement('dl');\n    tooltipValues.classList.add('chartogram__tooltip-values');\n    tooltip.appendChild(tooltipValues); // Add graph values.\n\n    for (var _iterator8 = data.lines, _isArray8 = Array.isArray(_iterator8), _i8 = 0, _iterator8 = _isArray8 ? _iterator8 : _iterator8[Symbol.iterator]();;) {\n      var _ref11;\n\n      if (_isArray8) {\n        if (_i8 >= _iterator8.length) break;\n        _ref11 = _iterator8[_i8++];\n      } else {\n        _i8 = _iterator8.next();\n        if (_i8.done) break;\n        _ref11 = _i8.value;\n      }\n\n      var line = _ref11;\n\n      if (showGraphs[line.id]) {\n        // Add graph value.\n        var tooltipValue = document.createElement('dt');\n        tooltipValue.style.color = line.color;\n        tooltipValues.appendChild(tooltipValue); // Add graph name.\n\n        var tooltipName = document.createElement('dd');\n        tooltipName.style.color = line.color;\n        tooltipValues.appendChild(tooltipName);\n      }\n    }\n  }\n\n  function removeTooltip() {\n    if (tooltip) {\n      tooltipForX = undefined;\n      tooltipContainer.removeChild(tooltip);\n      tooltip = undefined;\n      removeTooltipPoints();\n      removeTooltipLine();\n    }\n  }\n\n  function addTooltipLine() {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    tooltipLine = document.createElementNS(xmlns, 'line');\n    tooltipLine.setAttributeNS(null, 'class', 'chartogram__tooltip-line');\n    canvas.appendChild(tooltipLine);\n  }\n\n  function removeTooltipLine() {\n    canvas.removeChild(tooltipLine);\n    tooltipLine = undefined;\n  }\n\n  function addTooltipPoints() {\n    tooltipPoints = [];\n    var i = 0;\n\n    while (i < timelineWindowGraphs.length) {\n      var point = document.createElement('div');\n      point.classList.add('chartogram__tooltip-point');\n      point.style.color = timelineWindowGraphs[i].color;\n      tooltipPoints.push(point);\n      canvasWrapper.appendChild(point);\n      i++;\n    }\n  }\n\n  function removeTooltipPoints() {\n    for (var _iterator9 = tooltipPoints, _isArray9 = Array.isArray(_iterator9), _i9 = 0, _iterator9 = _isArray9 ? _iterator9 : _iterator9[Symbol.iterator]();;) {\n      var _ref12;\n\n      if (_isArray9) {\n        if (_i9 >= _iterator9.length) break;\n        _ref12 = _iterator9[_i9++];\n      } else {\n        _i9 = _iterator9.next();\n        if (_i9.done) break;\n        _ref12 = _i9.value;\n      }\n\n      var point = _ref12;\n      canvasWrapper.removeChild(point);\n    }\n\n    tooltipPoints = undefined;\n  }\n\n  function updateTooltipLine(x) {\n    if (!tooltipLine) {\n      addTooltipLine();\n    }\n\n    tooltipLine.setAttributeNS(null, 'x1', x);\n    tooltipLine.setAttributeNS(null, 'x2', x);\n    tooltipLine.setAttributeNS(null, 'y1', timelineWindowMinY);\n    tooltipLine.setAttributeNS(null, 'y2', timelineWindowMaxY);\n  }\n\n  function updateTooltipPoints(xIndex, xRatio) {\n    if (!tooltipPoints) {\n      addTooltipPoints();\n    }\n\n    var i = 0;\n\n    while (i < tooltipPoints.length) {\n      var point = tooltipPoints[i];\n      point.style.left = \"\".concat(xRatio * 100, \"%\");\n      var y = timelineWindowGraphs[i].points[xIndex];\n      var yRatio = y / timelineWindowMaxY;\n      point.style.bottom = \"\".concat(yRatio * 100, \"%\");\n      i++;\n    }\n  }\n}\n//# sourceMappingURL=index.js.map"],"names":["_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","rootNode","data","title","undefined","options","innerHTML","classList","add","timelineWindowFrom","timelineWindowTo","showGraphs","timelineWindowGraphs","timelineWindowMinX","timelineWindowMaxX","timelineWindowMinY","timelineWindowMaxY","shiftX","timelineWindowXScaled","tooltip","tooltipDate","tooltipValues","tooltipForX","tooltipPoints","tooltipLine","GAUGE_TICK_MARKS_COUNT","gaugeMarkTicksCount","TIMELINE_WINDOW_SIZE","timelineWindowSize","MONTHS","months","WEEKDAYS","weekdays","tooltipContainer","document","querySelector","canvas","canvasWrapper","xAxis","yAxis","timeline","timelineOverlayLeft","timelineWindowLeftHandle","timelineWindow","timelineWindowDrag","timelineWindowRightHandle","timelineOverlayRight","timelineCanvas","yScale","clearElement","element","firstChild","removeChild","commaJoin","a","b","map","ai","drawGauge","min","max","transform","tickMark","createElement","appendChild","createTextNode","drawGraphs","redrawTimeline","x","points","xScaledAll","_","minXOverall","maxXOverall","deltaX","minX","maxX","minXIndex","findIndex","maxXIndex","xScaled","slice","maxY","maxYOverall","graphsAll","_iterator3","lines","_isArray3","_i3","_ref3","next","done","line","id","push","Math","apply","setAttribute","maxY_","n","divider","getLowerSiblingDivisibleBy","yAxisScale","_iterator4","divideInterval","_isArray4","_i4","_ref4","y","createGridLine","_x","_minX","_maxX","trimLeftRatio","trimRightRatio","_iterator5","_isArray5","_i5","_ref5","_ref6","color","_points","graph","_y","_minY","_maxY","join","minY","timestamp","date","Date","getMonth","getDate","style","height","drawGauges","graphs","_iterator6","_isArray6","_i6","_ref7","_ref8","drawTimeline","createGraphToggler","_ref9","name","toggler","xmlns","check","createElementNS","setAttributeNS","backgroundCircle","checkCircle","checkMark","addEventListener","show","toggle","setUpTimelineWindowHandle","side","timelineCoordinates","handle","handleWidth","parseFloat","getComputedStyle","borderLeftWidth","setUpDrag","getBoundingClientRect","timelineWindowCoordinates","width","updateTimelineWindow","onDragStart","onDrag","onTouchMove","event","changedTouches","clientX","clientY","onPointerMove","onDragStop","window","removeEventListener","onTouchStart","touches","onPointerDown","right","left","setTimelineWindowRight","removeTooltip","_iterator9","_isArray9","_i9","_ref12","point","removeTooltipPoints","innerX","_iterator","_isArray","_i","_ref","xMin","xMax","xFrom","graphTogglers","_iterator2","_isArray2","_i2","_ref2","_line","displayGraphs","canvasDimensions","isIndexInBounds","onTrack","screenX","xScreenRatio","xHigherIndex","xLowerIndex","xLower","xHigher","deltaLower","deltaHigher","_iterator8","_isArray8","_i8","_ref11","tooltipValue","tooltipName","addTooltip","textContent","getDay","xIndex","indexOf","childNodes","xRatio","addTooltipPoints","yRatio","bottom","updateTooltipPoints","updateTooltipLine","onTrackStart","index","onTrackStop","onPointerEnter","setUpCanvas"],"mappings":"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"}