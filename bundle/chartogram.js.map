{"version":3,"file":"chartogram.js","sources":["../modules/utility.js","../modules/Tooltip.js","../modules/Charts.js","../modules/Timeline.js","../modules/Togglers.js","../modules/Chartogram.js","../modules/index.js"],"sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nexport function clearElement(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\nexport function commaJoin(a, b) {\n  return a.map(function (ai, i) {\n    return \"\".concat(ai, \",\").concat(b[i]);\n  });\n}\nexport function getLowerSiblingDivisibleBy(n, divider) {\n  n = Math.floor(n);\n\n  while (true) {\n    if (n < divider) {\n      return divider;\n    }\n\n    if (n % divider === 0) {\n      return n;\n    }\n\n    n--;\n  }\n}\nexport function divideInterval(min, max, GAUGE_TICK_MARKS_COUNT) {\n  var points = new Array(GAUGE_TICK_MARKS_COUNT);\n  var i = 0;\n\n  while (i < GAUGE_TICK_MARKS_COUNT) {\n    points[i] = min + i * (max - min) / (GAUGE_TICK_MARKS_COUNT - 1);\n    i++;\n  }\n\n  return points;\n}\nexport function throttle(func, interval) {\n  var timeout;\n  var executedAt = 0;\n\n  var scheduled = function scheduled() {\n    timeout = undefined;\n    executedAt = Date.now();\n    func();\n  };\n\n  return function () {\n    var now = Date.now();\n    var remaining = interval - (now - executedAt);\n\n    if (remaining <= 0) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n\n      executedAt = now;\n      func();\n    } else if (!timeout) {\n      timeout = setTimeout(scheduled, remaining);\n    }\n  };\n}\nexport function simplifyGraph(x, y, maxPoints) {\n  var yMax = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Math.max.apply(Math, _toConsumableArray(y));\n  var threshold = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.025;\n  var i = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  var _x = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : new Array(x.length);\n\n  var _y = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : new Array(x.length);\n\n  var _i = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;\n\n  if (i + 2 > x.length - 1) {\n    while (i < y.length) {\n      _x[_i] = x[i];\n      _y[_i] = y[i];\n      _i++;\n      i++;\n    }\n\n    _x = _x.slice(0, _i);\n    _y = _y.slice(0, _i);\n\n    if (_x.length <= maxPoints) {\n      return [_x, _y];\n    } else {\n      if (x.length / _x.length < 1.1) {\n        threshold = Math.min(threshold + 0.025, 1);\n      }\n\n      return simplifyGraph(_x, _y, maxPoints, yMax, threshold);\n    }\n  }\n\n  var y0 = (y[i + 2] + y[i]) / 2;\n\n  if (Math.abs(y0 - y[i + 1]) / yMax < threshold) {\n    _x[_i] = x[i];\n    _x[_i + 1] = x[i + 2];\n    _y[_i] = y[i];\n    _y[_i + 1] = y[i + 2];\n    return simplifyGraph(x, y, maxPoints, yMax, threshold, i + 2, _x, _y, _i + 1);\n  } else {\n    _x[_i] = x[i];\n    _x[_i + 1] = x[i + 1];\n    _x[_i + 2] = x[i + 2];\n    _y[_i] = y[i];\n    _y[_i + 1] = y[i + 1];\n    _y[_i + 2] = y[i + 2];\n    return simplifyGraph(x, y, maxPoints, yMax, threshold, i + 2, _x, _y, _i + 2);\n  }\n}\nexport function setUpDrag(element, onDragStart, onDrag) {\n  function onTouchMove(event) {\n    onDrag(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n  }\n\n  function onPointerMove(event) {\n    onDrag(event.clientX, event.clientY);\n  }\n\n  function onDragStop() {\n    window.removeEventListener('pointermove', onPointerMove);\n    window.removeEventListener('touchmove', onTouchMove);\n    window.removeEventListener('pointerup', onDragStop);\n    window.removeEventListener('pointercancel', onDragStop);\n    window.removeEventListener('touchend', onDragStop);\n    window.removeEventListener('touchcancel', onDragStop);\n  }\n\n  function onTouchStart(event) {\n    // Ignore multitouch.\n    if (event.touches.length > 1) {\n      // Reset.\n      return onDragStop();\n    }\n\n    onDragStart(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n    window.addEventListener('touchmove', onTouchMove);\n    window.addEventListener('touchend', onDragStop);\n    window.addEventListener('touchcancel', onDragStop);\n  } // Safari doesn't support pointer events.\n  // https://caniuse.com/#feat=pointer\n\n\n  element.addEventListener('touchstart', onTouchStart);\n\n  function onPointerDown(event) {\n    onDragStart(event.clientX, event.clientY);\n    window.addEventListener('pointermove', onPointerMove);\n    window.addEventListener('pointerup', onDragStop);\n    window.addEventListener('pointercancel', onDragStop);\n  }\n\n  element.addEventListener('pointerdown', onPointerDown);\n  return function () {\n    onDragStop();\n    element.removeEventListener(onPointerDown);\n    element.removeEventListener(onTouchStart);\n  };\n}\nexport function setUpTouchMove(element, _onTrackStart, _onTrack, _onTrackStop) {\n  var elementBounds;\n\n  function onTrack(x, y) {\n    _onTrack(x, y, elementBounds);\n  }\n\n  function onTrackStart() {\n    elementBounds = element.getBoundingClientRect();\n\n    _onTrackStart();\n  }\n\n  function onTouchStart(event) {\n    // Ignore multitouch.\n    if (event.touches.length > 1) {\n      // Reset.\n      return onTrackStop();\n    }\n\n    onTrackStart();\n    element.addEventListener('touchend', onTrackStop);\n    element.addEventListener('touchmove', onTouchMove);\n    element.addEventListener('touchend', onTrackStop);\n    element.addEventListener('touchcancel', onTrackStop);\n    onTouchMove(event);\n  } // Safari doesn't support pointer events.\n  // https://caniuse.com/#feat=pointer\n\n\n  element.addEventListener('touchstart', onTouchStart);\n\n  function onTouchMove(event) {\n    var x = event.changedTouches[0].clientX;\n    var y = event.changedTouches[0].clientY; // Emulate 'pointerleave' behavior.\n\n    if (x < elementBounds.left || x > elementBounds.left + elementBounds.width || y < elementBounds.top || y > elementBounds.top + elementBounds.height) {\n      onTrackStop();\n    } else {\n      onTrack(x, y);\n    }\n  }\n\n  function onPointerMove(event) {\n    onTrack(event.clientX, event.clientY);\n  }\n\n  function onTrackStop() {\n    element.removeEventListener('pointermove', onPointerMove);\n    element.removeEventListener('pointerleave', onTrackStop);\n    element.removeEventListener('pointercancel', onTrackStop);\n    element.removeEventListener('touchmove', onTouchMove);\n    element.removeEventListener('touchend', onTrackStop);\n    element.removeEventListener('touchcancel', onTrackStop);\n\n    _onTrackStop();\n  }\n\n  function onPointerEnter() {\n    onTrackStart();\n    element.addEventListener('pointermove', onPointerMove);\n    element.addEventListener('pointerleave', onTrackStop);\n    element.addEventListener('pointercancel', onTrackStop);\n  }\n\n  element.addEventListener('pointerenter', onPointerEnter);\n  return function () {\n    onTrackStop();\n    element.removeEventListener(onPointerEnter);\n    element.removeEventListener(onTouchStart);\n  };\n}\n//# sourceMappingURL=utility.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { setUpTouchMove } from './utility';\nvar SVG_XMLNS = 'http://www.w3.org/2000/svg';\n\nvar Tooltip =\n/*#__PURE__*/\nfunction () {\n  function Tooltip(props) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    _defineProperty(this, \"setUpListener\", function () {\n      var canvas = _this.props.canvas;\n      setUpTouchMove(canvas, function () {}, _this.onTrack, function () {\n        return _this.unmount();\n      });\n    });\n\n    _defineProperty(this, \"onTrack\", function (screenX, screenY, canvasDimensions) {\n      var _this$props = _this.props,\n          minX = _this$props.minX,\n          maxX = _this$props.maxX,\n          xPoints = _this$props.xPoints;\n      var xScreenRatio = (screenX - canvasDimensions.left) / canvasDimensions.width;\n      var xPoint = minX + xScreenRatio * (maxX - minX);\n      var xHigherIndex = xPoints.findIndex(function (_) {\n        return _ >= xPoint;\n      });\n      var xLowerIndex = xHigherIndex - 1;\n\n      if (xHigherIndex < 0 || xHigherIndex >= xPoints.length) {\n        xHigherIndex = -1;\n      }\n\n      if (xLowerIndex < 0 || xLowerIndex >= xPoints.length) {\n        xLowerIndex = -1;\n      }\n\n      var xIndex;\n\n      if (xHigherIndex < 0) {\n        if (xLowerIndex < 0) {\n          return _this.unmount();\n        } else {\n          xIndex = xLowerIndex;\n        }\n      } else {\n        if (xLowerIndex < 0) {\n          xIndex = xHigherIndex;\n        } else {\n          var xLower = xPoints[xLowerIndex];\n          var xHigher = xPoints[xHigherIndex];\n          var deltaLower = xPoint - xLower;\n          var deltaHigher = xHigher - xPoint;\n          xIndex = deltaLower > deltaHigher ? xHigherIndex : xLowerIndex;\n        }\n      }\n\n      var x = xPoints[xIndex];\n\n      if (x !== _this.tooltipForX) {\n        _this.tooltipForX = x;\n\n        if (!_this.tooltip) {\n          _this.mount();\n        }\n\n        _this.updateTooltip(x, xIndex, canvasDimensions.width);\n      }\n    });\n\n    _defineProperty(this, \"unmountLine\", function () {\n      var canvas = _this.props.canvas;\n      canvas.removeChild(_this.line);\n      _this.line = undefined;\n    });\n\n    _defineProperty(this, \"mountPoints\", function () {\n      var pointsContainer = _this.props.pointsContainer;\n      _this.points = _this.renderPoints();\n\n      for (var _iterator = _this.points, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref = _i.value;\n        }\n\n        var point = _ref;\n        pointsContainer.appendChild(point);\n      }\n    });\n\n    _defineProperty(this, \"unmountPoints\", function () {\n      var pointsContainer = _this.props.pointsContainer;\n\n      for (var _iterator2 = _this.points, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var point = _ref2;\n        pointsContainer.removeChild(point);\n      }\n\n      _this.points = undefined;\n    });\n\n    _defineProperty(this, \"updateLinePosition\", function (x) {\n      if (!_this.isLineRendered()) {\n        _this.mountLine();\n      }\n\n      var _this$props2 = _this.props,\n          canvasWidth = _this$props2.canvasWidth,\n          aspectRatio = _this$props2.aspectRatio,\n          fixSvgCoordinate = _this$props2.fixSvgCoordinate,\n          mapX = _this$props2.mapX;\n\n      _this.line.setAttributeNS(null, 'x1', fixSvgCoordinate(mapX(x)));\n\n      _this.line.setAttributeNS(null, 'x2', fixSvgCoordinate(mapX(x)));\n\n      _this.line.setAttributeNS(null, 'y1', 0);\n\n      _this.line.setAttributeNS(null, 'y2', fixSvgCoordinate(canvasWidth / aspectRatio));\n    });\n\n    _defineProperty(this, \"updatePointPositions\", function (xIndex, xRatio) {\n      var _this$props3 = _this.props,\n          maxY = _this$props3.maxY,\n          y = _this$props3.y;\n      var i = 0;\n      var j = 0;\n\n      while (i < y.length) {\n        if (y[i].isShown) {\n          var point = _this.points[j];\n          var _y = y[i].points[xIndex];\n          var yRatio = _y / maxY;\n          point.style.left = \"\".concat(xRatio * 100, \"%\");\n          point.style.bottom = \"\".concat(yRatio * 100, \"%\");\n          j++;\n        }\n\n        i++;\n      }\n    });\n\n    this.props = props;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unlisten = this.setUpListener();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unlisten();\n      this.unmount();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {// Ignored.\n    }\n  }, {\n    key: \"mount\",\n    value: function mount() {\n      var container = this.props.container;\n      this.tooltip = this.renderTooltip();\n      container.appendChild(this.tooltip);\n      this.mountPoints();\n\n      if (!this.isLineRendered()) {\n        this.mountLine();\n      }\n    }\n  }, {\n    key: \"unmount\",\n    value: function unmount() {\n      if (!this.tooltip) {\n        return;\n      }\n\n      var container = this.props.container;\n      this.tooltipForX = undefined;\n      container.removeChild(this.tooltip);\n      this.tooltip = undefined;\n      this.unmountPoints();\n\n      if (this.isLineRendered()) {\n        this.unmountLine();\n      }\n    }\n  }, {\n    key: \"mountLine\",\n    value: function mountLine() {\n      var canvas = this.props.canvas;\n      this.line = this.renderLine();\n      canvas.insertBefore(this.line, canvas.querySelector('polyline'));\n    }\n  }, {\n    key: \"renderTooltip\",\n    value: function renderTooltip() {\n      var y = this.props.y; // Create tooltip.\n\n      var tooltip = document.createElement('div');\n      tooltip.classList.add('chartogram__tooltip'); // Add tooltip title.\n\n      var tooltipDate = document.createElement('h1');\n      tooltipDate.classList.add('chartogram__tooltip-header');\n      tooltip.appendChild(tooltipDate); // Add graph values.\n\n      var tooltipValues = document.createElement('dl');\n      tooltipValues.classList.add('chartogram__tooltip-values');\n      tooltip.appendChild(tooltipValues); // Add graph values.\n\n      for (var _iterator3 = y, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref3;\n\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) break;\n          _ref3 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) break;\n          _ref3 = _i3.value;\n        }\n\n        var _ref4 = _ref3,\n            isShown = _ref4.isShown,\n            color = _ref4.color;\n\n        if (isShown) {\n          // Add graph value.\n          var tooltipValue = document.createElement('dt');\n          tooltipValue.style.color = color;\n          tooltipValues.appendChild(tooltipValue); // Add graph name.\n\n          var tooltipName = document.createElement('dd');\n          tooltipName.style.color = color;\n          tooltipValues.appendChild(tooltipName);\n        }\n      }\n\n      return tooltip;\n    }\n  }, {\n    key: \"renderLine\",\n    value: function renderLine() {\n      var line = document.createElementNS(SVG_XMLNS, 'line');\n      line.setAttribute('class', 'chartogram__tooltip-line');\n      return line;\n    }\n  }, {\n    key: \"isLineRendered\",\n    value: function isLineRendered() {\n      var canvas = this.props.canvas;\n      return this.line && this.line.parentNode === canvas;\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints() {\n      var points = [];\n      var _this$props4 = this.props,\n          pointsContainer = _this$props4.pointsContainer,\n          y = _this$props4.y;\n\n      for (var _iterator4 = y, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n        var _ref5;\n\n        if (_isArray4) {\n          if (_i4 >= _iterator4.length) break;\n          _ref5 = _iterator4[_i4++];\n        } else {\n          _i4 = _iterator4.next();\n          if (_i4.done) break;\n          _ref5 = _i4.value;\n        }\n\n        var _y = _ref5;\n\n        if (_y.isShown) {\n          var point = document.createElement('div');\n          point.classList.add('chartogram__tooltip-point');\n          point.style.color = _y.color;\n          points.push(point);\n          pointsContainer.appendChild(point);\n        }\n      }\n\n      return points;\n    }\n  }, {\n    key: \"updateTooltip\",\n    value: function updateTooltip(x, xIndex, canvasWidth) {\n      var _this$props5 = this.props,\n          minX = _this$props5.minX,\n          maxX = _this$props5.maxX;\n      var xRatio = (x - minX) / (maxX - minX);\n      this.updateTooltipDate(new Date(x));\n      this.updateTooltipValues(xIndex);\n      this.updateTooltipPosition(xRatio, canvasWidth);\n      this.updatePointPositions(xIndex, xRatio);\n      this.updateLinePosition(x);\n    }\n  }, {\n    key: \"updateTooltipPosition\",\n    value: function updateTooltipPosition(xRatio, canvasWidth) {\n      var _this$props6 = this.props,\n          tooltipShift = _this$props6.tooltipShift,\n          maxOverflow = _this$props6.maxOverflow;\n      var left = xRatio * canvasWidth;\n      left -= tooltipShift === undefined ? 40 : tooltipShift;\n      var tooltipWidth = this.tooltip.getBoundingClientRect().width;\n      var overflow = maxOverflow === undefined ? 5 : maxOverflow;\n\n      if (left < -1 * overflow) {\n        left = -1 * overflow;\n      } else if (left + tooltipWidth > canvasWidth + overflow) {\n        left = canvasWidth + overflow - tooltipWidth;\n      }\n\n      this.tooltip.style.left = left + 'px';\n    }\n  }, {\n    key: \"updateTooltipDate\",\n    value: function updateTooltipDate(date) {\n      var _this$props7 = this.props,\n          weekdays = _this$props7.weekdays,\n          months = _this$props7.months;\n      var tooltipDate = this.tooltip.childNodes[0];\n      tooltipDate.textContent = \"\".concat(weekdays[date.getDay()], \", \").concat(months[date.getMonth()], \" \").concat(date.getDate());\n    }\n  }, {\n    key: \"updateTooltipValues\",\n    value: function updateTooltipValues(xIndex) {\n      var y = this.props.y;\n      var tooltipValues = this.tooltip.childNodes[1];\n      var i = 0;\n\n      for (var _iterator5 = y, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n        var _ref6;\n\n        if (_isArray5) {\n          if (_i5 >= _iterator5.length) break;\n          _ref6 = _iterator5[_i5++];\n        } else {\n          _i5 = _iterator5.next();\n          if (_i5.done) break;\n          _ref6 = _i5.value;\n        }\n\n        var _ref7 = _ref6,\n            isShown = _ref7.isShown,\n            points = _ref7.points,\n            name = _ref7.name;\n\n        if (isShown) {\n          tooltipValues.childNodes[2 * i].textContent = points[xIndex];\n          tooltipValues.childNodes[2 * i + 1].textContent = name;\n          i++;\n        }\n      }\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexport { Tooltip as default };\n//# sourceMappingURL=Tooltip.js.map","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getLowerSiblingDivisibleBy, divideInterval, throttle } from './utility';\nimport Tooltip from './Tooltip';\nvar SVG_XMLNS = 'http://www.w3.org/2000/svg';\n\nvar Charts =\n/*#__PURE__*/\nfunction () {\n  function Charts(props) {\n    var _this = this;\n\n    _classCallCheck(this, Charts);\n\n    _defineProperty(this, \"onResize\", function (event) {\n      _this.setState({\n        aspectRatio: _this.getCanvasAspectRatio()\n      });\n    });\n\n    _defineProperty(this, \"onResizeThrottled\", throttle(this.onResize, 33));\n\n    _defineProperty(this, \"mapX\", function (x) {\n      var _this$props = _this.props,\n          canvasWidth = _this$props.canvasWidth,\n          minX = _this$props.minX,\n          maxX = _this$props.maxX;\n      return (x - minX) / (maxX - minX) * canvasWidth;\n    });\n\n    _defineProperty(this, \"mapY\", function (y) {\n      var _this$props2 = _this.props,\n          canvasWidth = _this$props2.canvasWidth,\n          minY = _this$props2.minY,\n          maxY = _this$props2.maxY;\n      var aspectRatio = _this.state.aspectRatio;\n      return (y - minY) / (maxY - minY) * canvasWidth / aspectRatio;\n    });\n\n    this.props = props;\n  }\n\n  _createClass(Charts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(rootNode) {\n      this.canvasWrapper = rootNode.querySelector('.chartogram__canvas-wrapper');\n      this.canvas = rootNode.querySelector('.chartogram__canvas');\n      this.xAxis = rootNode.querySelector('.chartogram__x');\n      this.yAxis = rootNode.querySelector('.chartogram__y');\n      this.tooltipContainer = rootNode.querySelector('.chartogram__plan');\n      this.state = {\n        aspectRatio: this.getCanvasAspectRatio()\n      };\n      this.updateAspectRatio();\n      this.mountGridLines();\n      this.mountGauges();\n      this.mountGraphs();\n      this.tooltip = new Tooltip(this.getTooltipProps());\n      this.tooltip.componentDidMount(rootNode);\n      this.render(); // Add window resize event listener.\n\n      window.addEventListener('resize', this.onResizeThrottled);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Remove window resize event listener.\n      window.removeEventListener('resize', this.onResizeThrottled);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(previousProps, previousState) {\n      if (previousState) {\n        if (this.state.aspectRatio !== previousState.aspectRatio) {\n          this.updateAspectRatio(this.state.aspectRatio);\n        }\n      }\n\n      this.render();\n      this.tooltip.props = this.getTooltipProps();\n      this.tooltip.componentDidUpdate();\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      var previousState = this.state;\n      this.state = _objectSpread({}, this.state, newState);\n      this.componentDidUpdate(this.props, previousState);\n    }\n  }, {\n    key: \"getCanvasAspectRatio\",\n    value: function getCanvasAspectRatio() {\n      var canvasDimensions = this.canvas.getBoundingClientRect();\n      return canvasDimensions.width / canvasDimensions.height;\n    }\n  }, {\n    key: \"getTooltipProps\",\n    value: function getTooltipProps() {\n      return {\n        canvas: this.canvas,\n        container: this.tooltipContainer,\n        pointsContainer: this.canvasWrapper,\n        weekdays: this.props.weekdays,\n        months: this.props.months,\n        canvasWidth: this.props.canvasWidth,\n        aspectRatio: this.state.aspectRatio,\n        mapX: this.mapX,\n        fixSvgCoordinate: this.props.fixSvgCoordinate,\n        minX: this.props.minX,\n        maxX: this.props.maxX,\n        maxY: this.props.maxY,\n        xPoints: this.props.xPoints,\n        y: this.props.y\n      };\n    }\n  }, {\n    key: \"updateAspectRatio\",\n    value: function updateAspectRatio() {\n      var aspectRatio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.aspectRatio;\n      var _this$props3 = this.props,\n          canvasWidth = _this$props3.canvasWidth,\n          fixSvgCoordinate = _this$props3.fixSvgCoordinate; // Set canvas `viewBox`.\n\n      this.canvas.setAttribute('viewBox', \"0 0 \".concat(canvasWidth, \" \").concat(fixSvgCoordinate(canvasWidth / aspectRatio)));\n    }\n  }, {\n    key: \"getCanvasAspectRatio\",\n    value: function getCanvasAspectRatio() {\n      var canvasDimensions = this.canvas.getBoundingClientRect();\n      return canvasDimensions.width / canvasDimensions.height;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          gaugeTickMarksCount = _this$props4.gaugeTickMarksCount,\n          y = _this$props4.y,\n          minX = _this$props4.minX,\n          maxX = _this$props4.maxX,\n          minY = _this$props4.minY,\n          maxY = _this$props4.maxY,\n          graphOpacity = _this$props4.graphOpacity; // Calculate grid lines' coordinates.\n\n      var minY_ = minY;\n      var maxY_ = getLowerSiblingDivisibleBy(maxY, 10);\n      var yAxisScale = (maxY - minY) / (maxY_ - minY_);\n      var yAxisTickMarks = divideInterval(minY_, maxY_, gaugeTickMarksCount); // Update grid lines.\n\n      yAxisTickMarks.forEach(function (y, i) {\n        return _this2.updateGridLine(i, y);\n      }); // Update graphs.\n\n      var i = 0;\n\n      while (i < y.length) {\n        var _y$i = y[i],\n            isShown = _y$i.isShown,\n            graphPoints = _y$i.graphPoints,\n            color = _y$i.color;\n        var opacity = graphOpacity[i]; // Update graph.\n\n        if (isShown || opacity > 0) {\n          if (this.graphs[i]) {\n            this.updateGraph(i, graphPoints, opacity);\n          } else {\n            this.mountGraph(i, graphPoints, color, opacity);\n          }\n        } else if (this.graphs[i]) {\n          this.unmountGraph(i);\n        }\n\n        i++;\n      } // Update gauges.\n\n\n      this.updateGauges(minX, maxX, minY_, maxY_, yAxisScale);\n    }\n  }, {\n    key: \"renderGraph\",\n    value: function renderGraph(graphPoints, color) {\n      var opacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var graph = document.createElementNS(SVG_XMLNS, 'polyline');\n      graph.setAttribute('stroke', color);\n      graph.classList.add('chartogram__graph');\n      this.updateGraph(graph, graphPoints, opacity);\n      return graph;\n    }\n  }, {\n    key: \"renderGridLine\",\n    value: function renderGridLine(y) {\n      var _this$props5 = this.props,\n          fixSvgCoordinate = _this$props5.fixSvgCoordinate,\n          minX = _this$props5.minX,\n          maxX = _this$props5.maxX,\n          minY = _this$props5.minY,\n          maxY = _this$props5.maxY;\n      var line = document.createElementNS(SVG_XMLNS, 'line');\n      line.classList.add('chartogram__grid-line');\n      line.setAttribute('x1', fixSvgCoordinate(this.mapX(minX)));\n      line.setAttribute('x2', fixSvgCoordinate(this.mapX(maxX)));\n      line.setAttribute('y1', fixSvgCoordinate(this.mapY(maxY - y)));\n      line.setAttribute('y2', fixSvgCoordinate(this.mapY(maxY - y)));\n      return line;\n    }\n  }, {\n    key: \"mountGridLines\",\n    value: function mountGridLines() {\n      var gaugeTickMarksCount = this.props.gaugeTickMarksCount;\n      this.gridLines = [];\n      var i = 0;\n\n      while (i < gaugeTickMarksCount) {\n        var line = this.renderGridLine(0);\n        this.gridLines.push(line);\n        this.canvas.appendChild(line);\n        i++;\n      }\n    }\n  }, {\n    key: \"mountGauges\",\n    value: function mountGauges() {\n      var gaugeTickMarksCount = this.props.gaugeTickMarksCount;\n      var i = 0;\n\n      while (i < gaugeTickMarksCount) {\n        this.xAxis.appendChild(document.createElement('div'));\n        this.yAxis.appendChild(document.createElement('div'));\n        i++;\n      }\n    }\n  }, {\n    key: \"mountGraphs\",\n    value: function mountGraphs() {\n      var _this3 = this;\n\n      this.graphs = [];\n      var y = this.props.y;\n      y.forEach(function (_ref, i) {\n        var graphPoints = _ref.graphPoints,\n            color = _ref.color;\n\n        _this3.mountGraph(i, graphPoints, color);\n      });\n    }\n  }, {\n    key: \"mountGraph\",\n    value: function mountGraph(i, graphPoints, color, opacity) {\n      var graph = this.renderGraph(graphPoints, color, opacity);\n      this.graphs[i] = graph;\n      this.canvas.appendChild(graph);\n    }\n  }, {\n    key: \"unmountGraph\",\n    value: function unmountGraph(i) {\n      this.canvas.removeChild(this.graphs[i]);\n      this.graphs[i] = undefined;\n    }\n  }, {\n    key: \"updateGraph\",\n    value: function updateGraph(graph, graphPoints, opacity) {\n      var _this4 = this;\n\n      var _this$props6 = this.props,\n          createPolylinePoints = _this$props6.createPolylinePoints,\n          xGraphPoints = _this$props6.xGraphPoints,\n          maxY = _this$props6.maxY;\n\n      if (typeof graph === 'number') {\n        graph = this.graphs[graph];\n      }\n\n      graph.setAttribute('points', createPolylinePoints(xGraphPoints.map(this.mapX), graphPoints.map(function (y) {\n        return _this4.mapY(maxY - y);\n      })).join(' '));\n\n      if (opacity !== 1) {\n        graph.style.opacity = opacity;\n      }\n    }\n  }, {\n    key: \"updateGridLine\",\n    value: function updateGridLine(i, y) {\n      var _this$props7 = this.props,\n          fixSvgCoordinate = _this$props7.fixSvgCoordinate,\n          maxY = _this$props7.maxY;\n      var line = this.gridLines[i];\n      line.setAttribute('y1', fixSvgCoordinate(this.mapY(maxY - y)));\n      line.setAttribute('y2', fixSvgCoordinate(this.mapY(maxY - y)));\n    }\n  }, {\n    key: \"updateGauges\",\n    value: function updateGauges(minX, maxX, minY, maxY, yAxisScale) {\n      var _this$props8 = this.props,\n          months = _this$props8.months,\n          gaugeTickMarksCount = _this$props8.gaugeTickMarksCount;\n      this.updateGauge(this.xAxis, minX, maxX, gaugeTickMarksCount, function (timestamp) {\n        var date = new Date(timestamp);\n        return \"\".concat(months[date.getMonth()], \" \").concat(date.getDate());\n      });\n      this.updateGauge(this.yAxis, minY, maxY, gaugeTickMarksCount);\n      this.yAxis.style.height = \"\".concat(100 / yAxisScale, \"%\");\n    }\n  }, {\n    key: \"updateGauge\",\n    value: function updateGauge(gauge, min, max, tickMarksCount, transform) {\n      var i = 0;\n\n      while (i < tickMarksCount) {\n        var tickMark = gauge.childNodes[i];\n        var value = min + i * (max - min) / (tickMarksCount - 1);\n\n        if (transform) {\n          value = transform(value);\n        }\n\n        tickMark.textContent = value;\n        i++;\n      }\n    }\n  }]);\n\n  return Charts;\n}();\n\nexport { Charts as default };\nCharts.INITIAL_MARKUP = \"\\n\\t<div class=\\\"chartogram__plan-with-axes\\\">\\n\\t\\t<div class=\\\"chartogram__plan\\\">\\n\\t\\t\\t<div class=\\\"chartogram__top-border\\\"></div>\\n\\t\\t\\t<div class=\\\"chartogram__canvas-wrapper\\\">\\n\\t\\t\\t\\t<svg class=\\\"chartogram__canvas\\\"></svg>\\n\\t\\t\\t\\t<div class=\\\"chartogram__x\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"chartogram__y-wrapper\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"chartogram__y\\\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\";\n//# sourceMappingURL=Charts.js.map","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { clearElement, commaJoin, simplifyGraph, throttle, setUpDrag } from './utility';\nvar TIMELINE_GRAPH_MAX_POINTS = 80;\nvar SVG_XMLNS = 'http://www.w3.org/2000/svg';\n\nvar Timeline =\n/*#__PURE__*/\nfunction () {\n  function Timeline(props) {\n    var _this = this;\n\n    _classCallCheck(this, Timeline);\n\n    _defineProperty(this, \"onResize\", function (event) {\n      _this.setState({\n        aspectRatio: _this.getCanvasAspectRatio()\n      });\n    });\n\n    _defineProperty(this, \"onResizeThrottled\", throttle(this.onResize, 33));\n\n    _defineProperty(this, \"setState\", function (newState) {\n      if (newState.aspectRatio !== _this.state.aspectRatio) {\n        _this.updateAspectRatio(newState.aspectRatio);\n      }\n\n      _this.state = _objectSpread({}, _this.state, newState);\n\n      _this.render();\n    });\n\n    _defineProperty(this, \"mapX\", function (x) {\n      var _this$props = _this.props,\n          canvasWidth = _this$props.canvasWidth,\n          data = _this$props.data;\n      var minX = data.minX,\n          maxX = data.maxX;\n      return (x - minX) / (maxX - minX) * canvasWidth;\n    });\n\n    _defineProperty(this, \"mapY\", function (y) {\n      var _this$props2 = _this.props,\n          canvasWidth = _this$props2.canvasWidth,\n          minY = _this$props2.minY,\n          maxY = _this$props2.maxY;\n      var aspectRatio = _this.state.aspectRatio;\n      return (y - minY) / (maxY - minY) * canvasWidth / aspectRatio;\n    });\n\n    _defineProperty(this, \"setUpTimelineWindowHandle\", function (side) {\n      var handle = side === 'left' ? _this.timelineWindowLeftHandle : _this.timelineWindowRightHandle;\n      var handleWidth = parseFloat(getComputedStyle(_this.timelineWindow).borderLeftWidth);\n      var timelineCoordinates;\n      var minX;\n      var maxX;\n      var deltaX;\n      var startedX;\n\n      var onDrag = function onDrag(x) {\n        x -= deltaX;\n        x = Math.max(Math.min(x, maxX), minX);\n        var ratio = (x - timelineCoordinates.left) / timelineCoordinates.width;\n\n        if (side === 'left') {\n          _this.updateBounds(ratio, _this.props.toRatio);\n        } else {\n          _this.updateBounds(_this.props.fromRatio, ratio);\n        }\n      };\n\n      var onDragStart = function onDragStart(x) {\n        timelineCoordinates = _this.timeline.getBoundingClientRect();\n\n        var timelineWindowCoordinates = _this.timelineWindow.getBoundingClientRect();\n\n        if (side === 'left') {\n          minX = timelineCoordinates.left;\n          maxX = timelineWindowCoordinates.left + timelineWindowCoordinates.width - 2 * handleWidth;\n          deltaX = x - timelineWindowCoordinates.left;\n        } else {\n          minX = timelineWindowCoordinates.left + 2 * handleWidth;\n          maxX = timelineCoordinates.left + timelineCoordinates.width;\n          deltaX = x - (timelineWindowCoordinates.left + timelineWindowCoordinates.width);\n        }\n      };\n\n      return setUpDrag(handle, onDragStart, onDrag);\n    });\n\n    _defineProperty(this, \"setUpTimelineWindow\", function () {\n      var timelineCoordinates;\n      var timelineWindowCoordinates;\n      var minX;\n      var maxX;\n      var innerX;\n\n      var onDrag = function onDrag(x) {\n        x -= innerX;\n        x = Math.max(Math.min(x, maxX), minX);\n        var ratio = (x - timelineCoordinates.left) / timelineCoordinates.width;\n\n        _this.updateBounds(ratio, ratio + timelineWindowCoordinates.width / timelineCoordinates.width);\n      };\n\n      var onDragStart = function onDragStart(x) {\n        timelineCoordinates = _this.timeline.getBoundingClientRect();\n        timelineWindowCoordinates = _this.timelineWindow.getBoundingClientRect();\n        innerX = x - timelineWindowCoordinates.left;\n        minX = timelineCoordinates.left;\n        maxX = timelineCoordinates.left + (timelineCoordinates.width - timelineWindowCoordinates.width);\n      };\n\n      return setUpDrag(_this.timelineWindowDrag, onDragStart, onDrag);\n    });\n\n    _defineProperty(this, \"setTimelineWindowLeft\", function (ratio) {\n      _this.timelineOverlayLeft.style.right = \"\".concat(100 * (1 - ratio), \"%\");\n      _this.timelineWindow.style.left = \"\".concat(100 * ratio, \"%\");\n    });\n\n    _defineProperty(this, \"setTimelineWindowRight\", function (ratio) {\n      _this.timelineOverlayRight.style.left = \"\".concat(100 * ratio, \"%\");\n      _this.timelineWindow.style.right = \"\".concat(100 * (1 - ratio), \"%\");\n    });\n\n    this.props = props;\n  }\n\n  _createClass(Timeline, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.state = {\n        aspectRatio: this.getCanvasAspectRatio()\n      };\n      this.onChangeBounds(this.props.fromRatio, this.props.toRatio), this.render();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount(rootNode) {\n      this.timeline = rootNode.querySelector('.chartogram__timeline');\n      this.timelineOverlayLeft = rootNode.querySelector('.chartogram__timeline-overlay-left');\n      this.timelineWindowLeftHandle = rootNode.querySelector('.chartogram__timeline-window__left-handle');\n      this.timelineWindow = rootNode.querySelector('.chartogram__timeline-window');\n      this.timelineWindowDrag = rootNode.querySelector('.chartogram__timeline-window__drag');\n      this.timelineWindowRightHandle = rootNode.querySelector('.chartogram__timeline-window__right-handle');\n      this.timelineOverlayRight = rootNode.querySelector('.chartogram__timeline-overlay-right');\n      this.timelineCanvas = rootNode.querySelector('.chartogram__timeline-canvas');\n      this.state = {\n        aspectRatio: this.getCanvasAspectRatio()\n      };\n      this.updateAspectRatio();\n      this.setUpTimelineWindowHandle('left');\n      this.setUpTimelineWindowHandle('right');\n      this.setUpTimelineWindow(); // Add window resize event listener.\n\n      window.addEventListener('resize', this.onResizeThrottled);\n      this.onChangeBounds(this.props.fromRatio, this.props.toRatio);\n      this.mountGraphs();\n      this.render();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Remove window resize event listener.\n      window.removeEventListener('resize', this.onResizeThrottled);\n    }\n  }, {\n    key: \"updateAspectRatio\",\n    value: function updateAspectRatio() {\n      var aspectRatio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.aspectRatio;\n      var _this$props3 = this.props,\n          canvasWidth = _this$props3.canvasWidth,\n          fixSvgCoordinate = _this$props3.fixSvgCoordinate; // Set canvas `viewBox`.\n\n      this.timelineCanvas.setAttribute('viewBox', \"0 0 \".concat(canvasWidth, \" \").concat(fixSvgCoordinate(canvasWidth / aspectRatio)));\n    }\n  }, {\n    key: \"getCanvasAspectRatio\",\n    value: function getCanvasAspectRatio() {\n      var timelineCanvasDimensions = this.timelineCanvas.getBoundingClientRect();\n      return timelineCanvasDimensions.width / timelineCanvasDimensions.height;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          y = _this$props4.y,\n          data = _this$props4.data,\n          graphOpacity = _this$props4.graphOpacity; // Update graphs.\n\n      var i = 0;\n\n      var _loop = function _loop() {\n        var _data$y$i = data.y[i],\n            id = _data$y$i.id,\n            points = _data$y$i.points,\n            color = _data$y$i.color;\n        var isShown = y.find(function (_) {\n          return _.id === id;\n        }).isShown;\n        var opacity = graphOpacity[i]; // Update graph.\n\n        if (isShown || opacity > 0) {\n          var _simplifyGraph = simplifyGraph(data.x.points, points, TIMELINE_GRAPH_MAX_POINTS),\n              _simplifyGraph2 = _slicedToArray(_simplifyGraph, 2),\n              _x = _simplifyGraph2[0],\n              _y = _simplifyGraph2[1];\n\n          if (_this2.graphs[i]) {\n            _this2.updateGraph(i, _x, _y, opacity);\n          } else {\n            _this2.mountGraph(i, _x, _y, color, opacity);\n          }\n        } else if (_this2.graphs[i]) {\n          _this2.unmountGraph(i);\n        }\n\n        i++;\n      };\n\n      while (i < data.y.length) {\n        _loop();\n      }\n    }\n  }, {\n    key: \"renderGraph\",\n    value: function renderGraph(x, y, color) {\n      var opacity = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n      var graph = document.createElementNS(SVG_XMLNS, 'polyline');\n      graph.setAttribute('stroke', color);\n      this.updateGraph(graph, x, y, opacity);\n      graph.classList.add('chartogram__graph');\n      return graph;\n    }\n  }, {\n    key: \"mountGraphs\",\n    value: function mountGraphs() {\n      var _this3 = this;\n\n      this.graphs = [];\n      var data = this.props.data;\n      data.y.forEach(function (_ref, i) {\n        var points = _ref.points,\n            color = _ref.color;\n\n        _this3.mountGraph(i, data.x.points, points, color);\n      });\n    }\n  }, {\n    key: \"mountGraph\",\n    value: function mountGraph(i, x, y, color, opacity) {\n      var graph = this.renderGraph(x, y, color, opacity);\n      this.graphs[i] = graph;\n      this.timelineCanvas.appendChild(graph);\n    }\n  }, {\n    key: \"unmountGraph\",\n    value: function unmountGraph(i) {\n      this.timelineCanvas.removeChild(this.graphs[i]);\n      this.graphs[i] = undefined;\n    }\n  }, {\n    key: \"updateGraph\",\n    value: function updateGraph(graph, x, y, opacity) {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          maxY = _this$props5.maxY,\n          createPolylinePoints = _this$props5.createPolylinePoints;\n\n      if (typeof graph === 'number') {\n        graph = this.graphs[graph];\n      }\n\n      graph.setAttribute('points', createPolylinePoints(x.map(this.mapX), y.map(function (y) {\n        return _this4.mapY(maxY - y);\n      })).join(' '));\n\n      if (opacity !== 1) {\n        graph.style.opacity = opacity;\n      }\n    }\n  }, {\n    key: \"onChangeBounds\",\n    value: function onChangeBounds(from, to) {\n      this.setTimelineWindowLeft(from);\n      this.setTimelineWindowRight(to);\n    }\n  }, {\n    key: \"updateBounds\",\n    value: function updateBounds(from, to) {\n      this.props.onChangeBounds(from, to);\n      this.props.fromRatio = from;\n      this.props.toRatio = to;\n      this.onChangeBounds(from, to);\n    }\n  }]);\n\n  return Timeline;\n}();\n\nexport { Timeline as default };\nTimeline.INITIAL_MARKUP = \"\\n\\t<div class=\\\"chartogram__timeline\\\">\\n\\t\\t<div class=\\\"chartogram__timeline-canvas-padding\\\">\\n\\t\\t\\t<svg class=\\\"chartogram__timeline-canvas\\\" preserveAspectRatio=\\\"none\\\"></svg>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"chartogram__timeline-overlay-left\\\"></div>\\n\\t\\t<div class=\\\"chartogram__timeline-overlay-right\\\"></div>\\n\\t\\t<div class=\\\"chartogram__timeline-window\\\">\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__drag\\\"></button>\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__left-handle\\\"></button>\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"chartogram__reset-button chartogram__timeline-window__right-handle\\\"></button>\\n\\t\\t</div>\\n\\t</div>\\n\";\n//# sourceMappingURL=Timeline.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { clearElement } from './utility';\n\nvar Togglers =\n/*#__PURE__*/\nfunction () {\n  function Togglers(props) {\n    var _this = this;\n\n    _classCallCheck(this, Togglers);\n\n    _defineProperty(this, \"renderToggler\", function (_ref) {\n      var id = _ref.id,\n          name = _ref.name,\n          color = _ref.color;\n      var toggler = document.createElement('button');\n      toggler.setAttribute('type', 'button');\n      toggler.classList.add('chartogram__chart-toggler');\n      toggler.classList.add('chartogram__chart-toggler--on');\n      toggler.classList.add('chartogram__reset-button'); // Add check.\n\n      var xmlns = 'http://www.w3.org/2000/svg';\n      var check = document.createElementNS(xmlns, 'svg');\n      check.setAttribute('viewBox', '0 0 19 19');\n      check.setAttribute('class', 'chartogram__chart-toggler-check'); // Add background circle.\n\n      var backgroundCircle = document.createElementNS(xmlns, 'circle');\n      backgroundCircle.setAttribute('cx', '9.5');\n      backgroundCircle.setAttribute('cy', '9.5');\n      backgroundCircle.setAttribute('r', '9.5');\n      backgroundCircle.setAttribute('fill', color);\n      check.appendChild(backgroundCircle); // Add check circle.\n\n      var checkCircle = document.createElementNS(xmlns, 'circle');\n      checkCircle.setAttribute('cx', '9.5');\n      checkCircle.setAttribute('cy', '9.5');\n      checkCircle.setAttribute('r', '8');\n      checkCircle.setAttribute('class', 'chartogram__chart-toggler-check-circle');\n      check.appendChild(checkCircle); // Add check mark.\n\n      var checkMark = document.createElementNS(xmlns, 'path');\n      checkMark.setAttribute('d', 'M13.64 4.94l-6.2 6.34-1.69-1.9c-.73-.63-1.89.1-1.36 1.06l2 3.38c.3.43 1.04.85 1.78 0 .32-.42 6.31-7.93 6.31-7.93.74-.84-.2-1.58-.84-.95z');\n      checkMark.setAttribute('fill', 'white');\n      checkMark.setAttribute('class', 'chartogram__chart-toggler-check-mark');\n      check.appendChild(checkMark); // Add checkmark.\n\n      toggler.appendChild(check); // Add graph name.\n\n      toggler.appendChild(document.createTextNode(name)); // On click.\n\n      toggler.addEventListener('click', function () {\n        return _this.onToggle(id, toggler);\n      });\n      return toggler;\n    });\n\n    _defineProperty(this, \"onToggle\", function (id, toggler) {\n      var onToggle = _this.props.onToggle;\n\n      if (onToggle(id)) {\n        toggler.classList.toggle('chartogram__chart-toggler--on');\n      }\n    });\n\n    this.props = props;\n  }\n\n  _createClass(Togglers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(rootNode) {\n      this.togglers = rootNode.querySelector('.chartogram__chart-togglers');\n      this.mount();\n    }\n  }, {\n    key: \"mount\",\n    value: function mount() {\n      var data = this.props.data;\n\n      for (var _iterator = data.y, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref2;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref2 = _i.value;\n        }\n\n        var y = _ref2;\n        this.togglers.appendChild(this.renderToggler(y));\n      }\n    }\n  }]);\n\n  return Togglers;\n}();\n\nexport { Togglers as default };\nTogglers.INITIAL_MARKUP = \"\\n\\t<div class=\\\"chartogram__chart-togglers\\\"></div>\\n\";\n//# sourceMappingURL=Togglers.js.map","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { clearElement, commaJoin } from './utility';\nimport Charts from './Charts';\nimport Timeline from './Timeline';\nimport Togglers from './Togglers';\n\nvar Chartogram =\n/*#__PURE__*/\nfunction () {\n  function Chartogram(rootNode, data) {\n    var _this = this;\n\n    var title = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'Title';\n    var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Chartogram);\n\n    _defineProperty(this, \"onToggle\", function (id) {\n      var y = _this.state.y.find(function (_) {\n        return _.id === id;\n      }); // Won't allow hiding all graphs.\n\n\n      if (y.isShown) {\n        var graphsShown = _this.state.y.filter(function (_) {\n          return _.isShown;\n        });\n\n        if (graphsShown.length === 1) {\n          return;\n        }\n      } // Mutating `this.state` without `setState()`.\n\n\n      y.isShown = !y.isShown;\n\n      var _this$calculateMinMax = _this.calculateMinMaxY(_this.state.y),\n          minY = _this$calculateMinMax.minY,\n          maxY = _this$calculateMinMax.maxY,\n          minYGlobal = _this$calculateMinMax.minYGlobal,\n          maxYGlobal = _this$calculateMinMax.maxYGlobal;\n\n      _this.batchTransitions();\n\n      _this.transition(_this.charts, 'minY', minY);\n\n      _this.transition(_this.charts, 'maxY', maxY);\n\n      _this.transition(_this.timeline, 'minYGlobal', minYGlobal);\n\n      _this.transition(_this.timeline, 'maxYGlobal', maxYGlobal);\n\n      _this.transition(_this.charts, 'graphOpacity', _this.state.y.map(function (y) {\n        return y.isShown ? 1 : 0;\n      }), function (graphOpacityFrom, graphOpacityTo, ratio) {\n        return graphOpacityTo.map(function (_, i) {\n          return graphOpacityFrom[i] + (graphOpacityTo[i] - graphOpacityFrom[i]) * ratio;\n        });\n      });\n\n      _this.runTransitions();\n\n      return true;\n    });\n\n    _defineProperty(this, \"onChangeBounds\", function (from, to) {\n      var state = _this.createState(from, to);\n\n      var minY = state.minY;\n      var maxY = state.maxY;\n      delete state.minY;\n      delete state.maxY;\n\n      _this.setState(state);\n\n      _this.batchTransitions();\n\n      _this.transition(_this.charts, 'minY', minY);\n\n      _this.transition(_this.charts, 'maxY', maxY);\n\n      _this.runTransitions();\n    });\n\n    _defineProperty(this, \"createPolylinePoints\", function (x, y) {\n      // return commaJoin(x, y)\n      return commaJoin(x.map(_this.fixSvgCoordinate), y.map(_this.fixSvgCoordinate));\n    });\n\n    _defineProperty(this, \"fixSvgCoordinate\", function (x) {\n      var precisionFactor = _this.props.precisionFactor;\n      return Math.round(x * precisionFactor) / precisionFactor;\n    });\n\n    _defineProperty(this, \"transitionTick\", function () {\n      var finishedTransitions;\n      var state = {};\n\n      for (var _iterator = _this.transitions, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref = _i.value;\n        }\n\n        var transition = _ref;\n\n        if (transition.tick(state)) {\n          finishedTransitions = finishedTransitions || [];\n          finishedTransitions.push(transition);\n        }\n      }\n\n      _this.setState(state);\n\n      if (finishedTransitions) {\n        _this.transitions = _this.transitions.filter(function (_) {\n          return finishedTransitions.indexOf(_) < 0;\n        });\n      }\n\n      if (_this.transitions.length > 0) {\n        _this.transitionTimer = requestAnimationFrame(_this.transitionTick);\n      } else {\n        _this.transitionTimer = undefined;\n      }\n    });\n\n    this.props = _objectSpread({\n      title: title,\n      transitionDuration: 250,\n      transitionEasing: 'easeOutQuad',\n      gaugeTickMarksCount: 6,\n      timelineWindowSize: 40,\n      canvasWidth: 512,\n      precisionFactor: Math.pow(10, props.precision || 3),\n      months: MONTHS,\n      weekdays: WEEKDAYS\n    }, props);\n    this.rootNode = rootNode;\n    this.data = _objectSpread({}, data, {\n      minX: Math.min.apply(Math, _toConsumableArray(data.x.points)),\n      maxX: Math.max.apply(Math, _toConsumableArray(data.x.points)),\n      y: data.y.map(function (y) {\n        return _objectSpread({}, y, {\n          min: Math.min.apply(Math, _toConsumableArray(y.points)),\n          max: Math.max.apply(Math, _toConsumableArray(y.points))\n        });\n      })\n    });\n    this.transitions = [];\n  }\n\n  _createClass(Chartogram, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.rootNode.classList.add('chartogram');\n      this.rootNode.innerHTML = \"\\n\\t\\t\\t<header class=\\\"chartogram__header\\\">\\n\\t\\t\\t\\t<h1 class=\\\"chartogram__title\\\">\".concat(this.props.title, \"</h1>\\n\\t\\t\\t</header>\\n\\t\\t\\t\").concat(Charts.INITIAL_MARKUP, \"\\n\\t\\t\\t\").concat(Timeline.INITIAL_MARKUP, \"\\n\\t\\t\\t\").concat(Togglers.INITIAL_MARKUP, \"\\n\\t\\t\"); // Render will be called after `.componentDidMount()`.\n\n      this.state = this.getInitialState();\n      this.charts = new Charts(this.getChartsProps());\n      this.charts.componentDidMount(this.rootNode);\n      this.timeline = new Timeline(this.getTimelineProps());\n      this.timeline.componentDidMount(this.rootNode);\n      this.togglers = new Togglers(this.getTogglersProps());\n      this.togglers.componentDidMount(this.rootNode);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.charts.componentWillUnmount();\n      this.timeline.componentWillUnmount();\n      this.rootNode.classList.remove('chartogram');\n      clearElement(this.rootNode);\n\n      if (this.transitionTimer) {\n        cancelAnimationFrame(this.transitionTimer);\n      }\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      var previousState = this.state;\n      this.state = _objectSpread({}, this.state, newState);\n      this.componentDidUpdate(this.props, previousState);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(previousProps, previousState) {\n      this.charts.props = this.getChartsProps();\n      this.charts.componentDidUpdate();\n\n      if (this.shouldUpdateTimeline(previousState)) {\n        this.timeline.props = this.getTimelineProps();\n        this.timeline.componentDidUpdate();\n      }\n    }\n  }, {\n    key: \"shouldUpdateTimeline\",\n    value: function shouldUpdateTimeline(previousState) {\n      return this.state.graphOpacity !== previousState.graphOpacity || this.state.minYGlobal !== previousState.minYGlobal || this.state.maxYGlobal !== previousState.maxYGlobal;\n    }\n  }, {\n    key: \"getChartsProps\",\n    value: function getChartsProps() {\n      return _objectSpread({}, this.props, this.state, {\n        createPolylinePoints: this.createPolylinePoints,\n        fixSvgCoordinate: this.fixSvgCoordinate\n      });\n    }\n  }, {\n    key: \"getTimelineProps\",\n    value: function getTimelineProps() {\n      return {\n        data: this.data,\n        canvasWidth: this.props.canvasWidth,\n        fixSvgCoordinate: this.fixSvgCoordinate,\n        createPolylinePoints: this.createPolylinePoints,\n        fromRatio: this.state.fromRatio,\n        toRatio: this.state.toRatio,\n        minY: this.state.minYGlobal,\n        maxY: this.state.maxYGlobal,\n        y: this.state.y,\n        graphOpacity: this.state.graphOpacity,\n        onChangeBounds: this.onChangeBounds\n      };\n    }\n  }, {\n    key: \"getTogglersProps\",\n    value: function getTogglersProps() {\n      return {\n        data: this.data,\n        onToggle: this.onToggle\n      };\n    }\n  }, {\n    key: \"getInitialState\",\n    value: function getInitialState() {\n      var timelineWindowSize = this.props.timelineWindowSize;\n      var _this$data = this.data,\n          minX = _this$data.minX,\n          maxX = _this$data.maxX;\n      var fromIndex;\n\n      if (this.data.x.points.length > timelineWindowSize) {\n        fromIndex = this.data.x.points.length - timelineWindowSize;\n      } else {\n        fromIndex = 0;\n      }\n\n      var xFrom = this.data.x.points[fromIndex];\n      var fromRatio = (xFrom - minX) / (maxX - minX);\n      var toRatio = 1;\n      return _objectSpread({}, this.createState(fromRatio, toRatio), {\n        graphOpacity: this.data.y.map(function (_) {\n          return 1;\n        })\n      });\n    }\n  }, {\n    key: \"createState\",\n    value: function createState(fromRatio, toRatio) {\n      var _this2 = this;\n\n      var x = this.data.x;\n      var minX = this.data.minX + fromRatio * (this.data.maxX - this.data.minX);\n      var maxX = this.data.minX + toRatio * (this.data.maxX - this.data.minX);\n      var fromIndex;\n\n      if (minX === this.data.minX) {\n        fromIndex = 0;\n      } else {\n        fromIndex = x.points.findIndex(function (x) {\n          return x > minX;\n        }) - 1;\n      }\n\n      var toIndex;\n\n      if (maxX === this.data.maxX) {\n        toIndex = x.points.length - 1;\n      } else {\n        toIndex = x.points.findIndex(function (x) {\n          return x > maxX;\n        });\n      }\n\n      var xPoints = x.points.slice(fromIndex, toIndex + 1);\n      var xGraphPoints = xPoints.slice(); // Create X graph points.\n\n      if (xPoints.length >= 2) {\n        if (x.points[fromIndex] !== minX) {\n          xGraphPoints[0] = minX;\n        }\n\n        if (x.points[toIndex] !== maxX) {\n          xGraphPoints[xGraphPoints.length - 1] = maxX;\n        }\n      }\n\n      var y = this.data.y.map(function (y, i) {\n        var points = _this2.data.y[i].points.slice(fromIndex, toIndex + 1);\n\n        var graphPoints = points.slice();\n\n        if (xPoints.length >= 2) {\n          if (x.points[fromIndex] !== minX) {\n            var beforeStartY = _this2.data.y[i].points[fromIndex];\n            var startY = _this2.data.y[i].points[fromIndex + 1];\n            var fromXExcludedTickRatio = (minX - _this2.data.x.points[fromIndex]) / (_this2.data.x.points[fromIndex + 1] - _this2.data.x.points[fromIndex]);\n            var startPoint = beforeStartY + (startY - beforeStartY) * fromXExcludedTickRatio;\n            graphPoints[0] = startPoint;\n          }\n\n          if (x.points[toIndex] !== maxX) {\n            var afterEndY = _this2.data.y[i].points[toIndex];\n            var endY = _this2.data.y[i].points[toIndex - 1];\n            var toXIncludedTickRatio = (maxX - _this2.data.x.points[toIndex - 1]) / (_this2.data.x.points[toIndex] - _this2.data.x.points[toIndex - 1]);\n            var endPoint = endY + (afterEndY - endY) * toXIncludedTickRatio;\n            graphPoints[graphPoints.length - 1] = endPoint;\n          }\n        }\n\n        return _objectSpread({}, _this2.data.y[i], _this2.state ? _this2.state.y[i] : {\n          isShown: true\n        }, {\n          points: points,\n          graphPoints: graphPoints,\n          // Min Y is always 0 by design.\n          min: 0,\n          // min: Math.min(...graphPoints),\n          max: Math.max.apply(Math, _toConsumableArray(graphPoints))\n        });\n      });\n      return _objectSpread({\n        minX: minX,\n        maxX: maxX,\n        fromIndex: fromIndex,\n        toIndex: toIndex,\n        fromRatio: fromRatio,\n        toRatio: toRatio,\n        xPoints: xPoints,\n        xGraphPoints: xGraphPoints\n      }, this.calculateMinMaxY(y), {\n        y: y\n      });\n    }\n  }, {\n    key: \"calculateMinMaxY\",\n    value: function calculateMinMaxY(y) {\n      // Calculate visible min/max Y for the graphs being shown.\n      var minY = Infinity;\n      var maxY = -Infinity;\n\n      for (var _iterator2 = y, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var _y = _ref2;\n\n        if (_y.isShown) {\n          minY = Math.min(minY, _y.min);\n          maxY = Math.max(maxY, _y.max);\n        }\n      } // Calculate global min/max Y for the graphs being shown.\n\n\n      var minYGlobal = Infinity;\n      var maxYGlobal = -Infinity;\n\n      var _loop = function _loop() {\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) return \"break\";\n          _ref3 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) return \"break\";\n          _ref3 = _i3.value;\n        }\n\n        var _y = _ref3;\n        var isShown = y.find(function (_) {\n          return _.id === _y.id;\n        }).isShown;\n\n        if (isShown) {\n          minYGlobal = Math.min(minYGlobal, _y.min);\n          maxYGlobal = Math.max(maxYGlobal, _y.max);\n        }\n      };\n\n      for (var _iterator3 = this.data.y, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref3;\n\n        var _ret = _loop();\n\n        if (_ret === \"break\") break;\n      } // Min Y is always 0 by design.\n\n\n      minYGlobal = 0;\n      return {\n        minY: minY,\n        maxY: maxY,\n        minYGlobal: minYGlobal,\n        maxYGlobal: maxYGlobal\n      };\n    }\n  }, {\n    key: \"batchTransitions\",\n    value: function batchTransitions() {\n      this.pendingTransitions = [];\n    }\n  }, {\n    key: \"runTransitions\",\n    value: function runTransitions() {\n      var _this3 = this;\n\n      // Find ongoing transitions for these owners and properties.\n      var ongoingTransitions = this.transitions.filter(function (transition) {\n        for (var _iterator4 = _this3.pendingTransitions, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n          var _ref4;\n\n          if (_isArray4) {\n            if (_i4 >= _iterator4.length) break;\n            _ref4 = _iterator4[_i4++];\n          } else {\n            _i4 = _iterator4.next();\n            if (_i4.done) break;\n            _ref4 = _i4.value;\n          }\n\n          var pendingTransition = _ref4;\n\n          if (transition.owner === pendingTransition.owner && transition.property === pendingTransition.property) {\n            return true;\n          }\n        }\n      }); // Stop those ongoing transitions.\n\n      if (ongoingTransitions.length > 0) {\n        var _state = {};\n\n        for (var _iterator5 = ongoingTransitions, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n          var _ref5;\n\n          if (_isArray5) {\n            if (_i5 >= _iterator5.length) break;\n            _ref5 = _iterator5[_i5++];\n          } else {\n            _i5 = _iterator5.next();\n            if (_i5.done) break;\n            _ref5 = _i5.value;\n          }\n\n          var transition = _ref5;\n          // Stop the transition at current time.\n          transition.tick(_state);\n        }\n\n        this.setState(_state); // Remove the transitions from the list.\n\n        this.transitions = this.transitions.filter(function (_) {\n          return ongoingTransitions.indexOf(_) < 0;\n        });\n      } // Add all pending transitions.\n\n\n      var _this$props = this.props,\n          maxTransitionDuration = _this$props.transitionDuration,\n          transitionEasing = _this$props.transitionEasing;\n      var transitionDuration = maxTransitionDuration;\n      var minYTransition = this.pendingTransitions.find(function (_) {\n        return _.owner === _this3.charts && _.property === 'minY';\n      });\n      var maxYTransition = this.pendingTransitions.find(function (_) {\n        return _.owner === _this3.charts && _.property === 'maxY';\n      });\n\n      if (minYTransition && maxYTransition) {\n        var minYFrom = this.state.minY;\n        var maxYFrom = this.state.maxY;\n        var minYTo = minYTransition.toValue;\n        var maxYTo = maxYTransition.toValue;\n        var currentHeight = maxYFrom - minYFrom;\n        var deltaMaxY = Math.abs(maxYTo - maxYFrom) / currentHeight;\n        var deltaMinY = Math.abs(minYTo - minYFrom) / currentHeight;\n        var deltaY = Math.max(deltaMinY, deltaMaxY);\n        transitionDuration = maxTransitionDuration * Math.max(0.2, Math.min(deltaY, 0.5) * 2);\n      }\n\n      var state = this.state;\n      this.transitions = this.transitions.concat(this.pendingTransitions.map(function (transition) {\n        return _objectSpread({}, transition, {\n          startedAt: Date.now(),\n          duration: transitionDuration,\n          easing: transitionEasing,\n          fromValue: state[transition.property],\n          tick: function tick(state) {\n            var elapsed = Date.now() - this.startedAt;\n            var ratio = Math.min(elapsed / this.duration, 1);\n            ratio = EASING[this.easing](ratio);\n\n            if (this.getNewValue) {\n              state[this.property] = this.getNewValue(this.fromValue, this.toValue, ratio);\n            } else {\n              state[this.property] = this.fromValue + (this.toValue - this.fromValue) * ratio;\n            }\n\n            return ratio === 1;\n          }\n        });\n      })); // Start transitions (if required).\n\n      if (!this.transitionTimer) {\n        this.transitionTimer = requestAnimationFrame(this.transitionTick);\n      }\n    }\n  }, {\n    key: \"transition\",\n    value: function transition(owner, property, toValue, getNewValue) {\n      this.pendingTransitions.push({\n        owner: owner,\n        property: property,\n        toValue: toValue,\n        getNewValue: getNewValue\n      });\n    }\n  }]);\n\n  return Chartogram;\n}();\n\nexport { Chartogram as default };\nvar MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar WEEKDAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']; // https://gist.github.com/gre/1650294\n\nvar EASING = {\n  linear: function linear(t) {\n    return t;\n  },\n  easeInOutSin: function easeInOutSin(t) {\n    return (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2;\n  },\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  }\n};\n//# sourceMappingURL=Chartogram.js.map","import Chartogram from './Chartogram';\nexport default function chartogram(rootNode, data, title, options) {\n  var chartogram = new Chartogram(rootNode, data, title, options);\n  chartogram.componentDidMount();\n  return function () {\n    chartogram.componentWillUnmount();\n  };\n}\n//# sourceMappingURL=index.js.map"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","throttle","func","interval","timeout","executedAt","scheduled","undefined","Date","now","remaining","clearTimeout","setTimeout","setUpDrag","element","onDragStart","onDrag","onTouchMove","event","changedTouches","clientX","clientY","onPointerMove","onDragStop","window","removeEventListener","onTouchStart","touches","addEventListener","onPointerDown","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_defineProperty","obj","value","Tooltip","_this","this","instance","Constructor","_classCallCheck","_onTrackStart","_onTrack","_onTrackStop","elementBounds","onTrack","x","y","onTrackStart","getBoundingClientRect","onTrackStop","left","width","top","height","onPointerEnter","setUpTouchMove","canvas","unmount","screenX","screenY","canvasDimensions","xIndex","_this$props","minX","maxX","xPoints","xPoint","xHigherIndex","findIndex","_","xLowerIndex","xLower","xHigher","tooltipForX","tooltip","mount","updateTooltip","removeChild","line","pointsContainer","points","renderPoints","_iterator","_isArray","_i","_ref","next","done","point","appendChild","_iterator2","_isArray2","_i2","_ref2","isLineRendered","mountLine","_this$props2","canvasWidth","aspectRatio","fixSvgCoordinate","mapX","setAttributeNS","xRatio","_this$props3","maxY","j","isShown","yRatio","style","concat","bottom","protoProps","staticProps","unlisten","setUpListener","container","renderTooltip","mountPoints","unmountPoints","unmountLine","renderLine","insertBefore","querySelector","document","createElement","classList","add","tooltipDate","tooltipValues","_iterator3","_isArray3","_i3","_ref3","_ref4","color","tooltipValue","tooltipName","createElementNS","setAttribute","parentNode","_this$props4","_iterator4","_isArray4","_i4","_ref5","_y","push","_this$props5","updateTooltipDate","updateTooltipValues","updateTooltipPosition","updatePointPositions","updateLinePosition","_this$props6","tooltipShift","maxOverflow","tooltipWidth","overflow","date","_this$props7","weekdays","months","childNodes","textContent","getDay","getMonth","getDate","_iterator5","_isArray5","_i5","_ref6","_ref7","name","Charts","setState","getCanvasAspectRatio","onResize","minY","state","rootNode","canvasWrapper","xAxis","yAxis","tooltipContainer","updateAspectRatio","mountGridLines","mountGauges","mountGraphs","getTooltipProps","componentDidMount","render","onResizeThrottled","previousProps","previousState","componentDidUpdate","newState","arguments","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","forEach","_objectSpread","_this2","gaugeTickMarksCount","graphOpacity","minY_","maxY_","n","divider","Math","floor","getLowerSiblingDivisibleBy","yAxisScale","min","max","GAUGE_TICK_MARKS_COUNT","divideInterval","updateGridLine","_y$i","graphPoints","opacity","graphs","updateGraph","mountGraph","unmountGraph","updateGauges","graph","mapY","gridLines","renderGridLine","_this3","renderGraph","_this4","createPolylinePoints","xGraphPoints","map","join","_this$props8","updateGauge","timestamp","gauge","tickMarksCount","transform","tickMark","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","err","_iterableToArrayLimit","_nonIterableRest","INITIAL_MARKUP","Timeline","data","side","timelineCoordinates","deltaX","handle","timelineWindowLeftHandle","timelineWindowRightHandle","handleWidth","parseFloat","getComputedStyle","timelineWindow","borderLeftWidth","timeline","timelineWindowCoordinates","ratio","updateBounds","toRatio","fromRatio","innerX","timelineWindowDrag","timelineOverlayLeft","right","timelineOverlayRight","onChangeBounds","timelineCanvas","setUpTimelineWindowHandle","setUpTimelineWindow","timelineCanvasDimensions","_loop","_data$y$i","id","find","_simplifyGraph2","simplifyGraph","maxPoints","yMax","apply","threshold","_x","slice","y0","abs","to","setTimelineWindowLeft","setTimelineWindowRight","Togglers","toggler","xmlns","check","backgroundCircle","checkCircle","checkMark","createTextNode","onToggle","toggle","togglers","renderToggler","Chartogram","title","_this$calculateMinMax","calculateMinMaxY","minYGlobal","maxYGlobal","batchTransitions","transition","charts","graphOpacityFrom","graphOpacityTo","runTransitions","createState","a","b","ai","precisionFactor","round","finishedTransitions","transitions","tick","indexOf","transitionTimer","requestAnimationFrame","transitionTick","transitionDuration","transitionEasing","timelineWindowSize","pow","precision","MONTHS","WEEKDAYS","innerHTML","getInitialState","getChartsProps","getTimelineProps","getTogglersProps","componentWillUnmount","remove","firstChild","clearElement","cancelAnimationFrame","shouldUpdateTimeline","fromIndex","_this$data","toIndex","beforeStartY","startPoint","afterEndY","endY","endPoint","Infinity","pendingTransitions","ongoingTransitions","pendingTransition","owner","property","_state","maxTransitionDuration","minYTransition","maxYTransition","minYFrom","maxYFrom","minYTo","toValue","maxYTo","currentHeight","deltaMaxY","deltaMinY","deltaY","startedAt","duration","easing","fromValue","elapsed","EASING","getNewValue","linear","t","easeInOutSin","sin","PI","easeInOutQuad","easeInOutCubic","easeOutCubic","easeOutQuad","options","chartogram"],"mappings":"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"}